{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/store/firebase.js","webpack:///./src/components/commonEffect.js","webpack:///./src/components/blocks/textType/H2.vue?80cf","webpack:///./src/components/blocks/listType/BulletItem.vue?b16b","webpack:///./src/components/ScaleController.vue?21f5","webpack:///./src/views/workspace/firstPageData.js","webpack:///./src/store/modules/commonStoreEffect.js","webpack:///./src/store/modules/pages.js","webpack:///./src/store/modules/blocks.js","webpack:///./src/store/modules/userInfo.js","webpack:///./src/store/index.js","webpack:///./src/store/firestore.js","webpack:///./src/components/blocks/textType/P.vue?a142","webpack:///./src/components/blocks/textType/H1.vue","webpack:///./src/components/input/BlockEditable.vue","webpack:///./src/components/input/BlockEditable.vue?9491","webpack:///./src/components/blocks/textType/H1.vue?67d7","webpack:///./src/components/blocks/textType/H2.vue","webpack:///./src/components/blocks/textType/H2.vue?018b","webpack:///./src/components/blocks/textType/H3.vue","webpack:///./src/components/blocks/textType/H3.vue?9258","webpack:///./src/components/blocks/mediaType/Img.vue","webpack:///./src/components/ScaleController.vue","webpack:///./src/components/ScaleController.vue?ecdb","webpack:///./src/components/blocks/mediaType/Img.vue?db08","webpack:///./src/components/blocks/Page.vue","webpack:///./src/components/blocks/Page.vue?1ebb","webpack:///./src/components/blocks/mediaType/Video.vue","webpack:///./src/components/blocks/mediaType/Video.vue?4b32","webpack:///./src/components/blocks/textType/P.vue","webpack:///./src/components/blocks/textType/P.vue?e51b","webpack:///./src/components/blocks/TodoItem.vue","webpack:///./src/components/blocks/TodoItem.vue?1ebd","webpack:///./src/components/blocks/listType/NumberItem.vue","webpack:///./src/components/blocks/listType/useListBlockEffect.js","webpack:///./src/components/blocks/listType/NumberItem.vue?11ef","webpack:///./src/components/blocks/listType/BulletItem.vue","webpack:///./src/components/blocks/listType/BulletItem.vue?3d43","webpack:///./src/components/blocks/DividingLine.vue","webpack:///./src/components/blocks/DividingLine.vue?3e9c","webpack:///./src/components/blocks/ToggleList.vue","webpack:///./src/components/blocks/ToggleList.vue?32b7","webpack:///./src/components/blocks/CodeEditor.vue","webpack:///./src/components/codeEditorEffect.js","webpack:///./src/components/blocks/CodeEditor.vue?651b","webpack:///./src/components/blocks/textType/Quote.vue","webpack:///./src/components/blocks/textType/Quote.vue?3c53","webpack:///./src/components/blocks/LinkPreview.vue","webpack:///./src/components/blocks/LinkPreview.vue?c6d9","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/commonBlockEffect.js","webpack:///./src/components/blocks/LinkPreview.vue?8cdd","webpack:///./src/components/blocks/ToggleList.vue?2f53","webpack:///./src/store/firebaseAuth.js","webpack:///./src/components/blocks/CodeEditor.vue?18a5","webpack:///./src/views/commonUpdataEffect.js","webpack:///./src/components/blocks/textType/Quote.vue?4cbe","webpack:///./src/components/blocks/Page.vue?96f1","webpack:///./src/components/blocks/mediaType/Img.vue?424a","webpack:///./src/components/blocks/textType/H1.vue?e44f","webpack:///./src/components/blocks/textType/H3.vue?c187","webpack:///./src/components/blocks/mediaType/Video.vue?8e0b","webpack:///./src/components/blocks/DividingLine.vue?67d1","webpack:///./src/components/input/ContentEditable.vue","webpack:///./src/components/input/ContentEditable.vue?b8b2","webpack:///./src/components/commonDomEffect.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","db","firestore","auth","TimeStamp","GeoPoint","settings","timestampsInSnapshots","generateRandomString","Math","random","toString","substr","Date","now","getRandomLightColor","letters","split","color","floor","stringMixer","randomStr","number","parseInt","str","commonStringEffect","getFirstToUpper","string","toUpperCase","commonCollisionEffect","isBoxACollisionB","a","b","right","left","top","bottom","showEffect","isShow","ref","handleShow","isTrueOrFalse","toggleShow","transTimeStampToLocalTime","timestamp","toLocaleString","waitSecondAndCallBack","second","callback","firstPageData","page","cover","createdTime","id","tags","parentId","blocks","editTime","content","html","text","className","indent","title","description","image","url","isChecked","findInStoreById","collection","find","item","arrayDeleteByValue","arr","newArr","index","indexOf","namespaced","state","pages","currentPageId","currentPageIdOnMouse","mutations","resetPages","addPage","getTime","deletePage","editPageData","log","addIdToBlocksOfPage","deleteIdToBlocksOfPage","setCurrentPageId","getters","childrenPages","filter","parentPage","choosePage","currentPage","searchPages","includes","getPageByBlockId","blockId","allPagesIds","allIds","forEach","actions","moveIdInBlocksOfPage","commit","rootState","dispatch","blockThatHasPageId","block","containPage","root","blockList","blockInPage","aPage","addTag","deleteTag","aTag","currentFocusBlockId","selectedBlocksIds","clipboardBlocks","hiddenBlocksIds","blockStyleEditor","resetBlocks","addBlock","deleteBlock","addIdToBlocksOfBlock","deleteIdToBlocksOfBlock","editBlockData","changeBlock","oldBlock","newBlock","setFocusBlockById","setSelectedBlocksIds","addIdToSelectedBlocksIds","deleteIdFromSelectedBlocksIds","addIdsToHiddenBlocksIds","ids","deleteIdsToHiddenBlocksIds","resetHiddenBlocksIds","setStyleEditorShow","setClipboardBlocks","currentBlocks","rootGetters","map","itemId","currentBlocksIds","chooseBlock","childrenCurrentBlocks","currentFocusBlock","searchBlocks","isIdInHiddenBlocksIds","getIndexByBlockId","getPrevBlockByid","getNextBlockByid","selectedBlocks","isBlockSelected","allBlocksIds","getClipboardBlocksIds","addBlockAndSetFocusBlockId","addPageTypeBlock","newPage","deleteSelectedBlocks","editSelectedBlocksData","goBlockPosition","userInfo","resetUserInfo","setUserInfo","info","addIdToRecentPageIds","recentPageIds","deleteIdFromRecentPageIds","getPagesInRecentPageIds","pageList","isWindowWidthLarge","innerWidth","createStore","blocktype","icon","style","hotKey","size","colors","sidebarState","isCollapse","isFloating","currentWidth","windowWidth","dragStartIds","isIframeActive","setStoreData","setWindowWidth","width","setSidebarCollapse","setSidebarFloating","setCurrentSidebarWidth","setDragStartIds","setIframeActive","getClassNameOfBlockType","resetStoreData","floatSidebar","lockSidebar","getUserDataByEmailFromFS","email","where","querySnapshot","empty","doc","catch","setUserDataToFS","set","updateStoreToFS","computed","store","placeholder","noId","inputToBlockContent","focusToBlock","keydownAction","pasteBlocksAction","components","ContentEditable","props","setup","setFocusBlock","checkKeydownInBlockContent","innerText","innerHTML","render","BlockEditable","__scopeId","paste","deleteInput","min-width","once-compression-width","compressionWidth","setCompressionWidthInBlock","referrerpolicy","class","getHeight","isActive","emits","emit","prevWidth","offsetX","aspectRatio","container","getElementsByClassName","containerBounding","getBoundingClientRect","height","emitCompressionWidth","scaleobject","getElementById","onceCompressionWidth","rightX","leftX","leftOrRightHandle","mouseMoveLeft","clientX","minWidth","mouseMoveRight","mouseUp","mouseDownLeft","preventDefault","mouseDownRight","addEventListener","querySelector","imgurClientId","ScaleController","commonDomEffect","getBlobByClipBoardData","uploadImageFileToImgur","file","formData","FormData","append","fetch","method","headers","Authorization","body","referrer","JSON","parse","link","isPlainText","clipboardData","types","getData","blob","data-pageid","goCurrentPage","targetPage","checkURL","aspect-ratio","default","frameborder","allow","allowfullscreen","commonBlockEffect","getBlockWidthById","includeStrings","originalUrl","videoId","checked","setTodoItemData","$event","P","handleIndent","useListBlockEffect","useStore","getPrevBlockById","isSameType","block2","isSameIndent","blockA","blockB","isAIndentNoMoreThanB","addIndent","prevBlock","replaceContent","subIndent","shiftKey","component","currentBlock","toggleShowAndUpdateHiddenBlocks","iconName","childrenBlocksIds","editorHeight","scrollLeft","placeholderInfo","editCodeText","tabAction","pasteAction","setScrollLeft","addWhitespaceTextNodeIfNoNodes","childNodes","initText","createTextNode","insertAfter","newNode","oldNode","insertBefore","nextSibling","isSingleLine","notLessThanZero","generateTextAndWrapNodes","lineSplits","generateWrapNode","newFragment","createDocumentFragment","lastIndex","textNode","codeEditorEffect","inputContainer","currentTarget","INDENT","sel","getSelection","range","getRangeAt","cloneRange","startContainer","startOffset","endContainer","endOffset","filterSelectedPlainTextNodes","getIndex","node","Array","startIndex","endIndex","isNodeInSelection","isPlainTextNode","textContent","shouldFilter","getWhitespaceLengthFromBeginnning","tmpText","whitespaceLength","startsWith","substring","moveBackwardDistance","generateMoveForwardNodes","nodes","generateMoveBackwardNodes","increaseIndent","newText","newTextNode","replaceChild","setBaseAndExtent","decreaseIndent","offset","increaseIndentInSelection","selectedPlainTextNodes","newNodes","newStartOffset","newEndOffset","decreaseIndentInSelection","filterNodes","execute","Map","hasShiftKey","selectAction","collapsed","handlePaste","nextTick","focusNode","wrapNode","setEditorHeight","codeText","setCodeText","updateCodeTextAndEditorHeight","changeToMultiNode","fragment","replaceChildren","editor","curr","highlightAll","pasteLinkAction","openInNewTab","linkPreviewAPI","MyLinkPreviewAPIKey","getLinkData","q","stringify","response","json","navigator","clipboard","readText","open","router","route","ls","routeToFrontPage","path","setUserDataToLS","keys","setUserDataToStore","isUserDataInLS","user","isUserDataInFS","signinProcedure","isUserExist","initUserData","headshot","photoURL","displayName","signoutProcedure","removeAll","isSignInOrOut","signin","signout","SecureLS","routes","meta","requiresAuth","createRouter","history","createWebHistory","process","beforeEach","to","from","next","library","add","faCaretRight","faCaretDown","faPlusSquare","faMinusSquare","faFile","faPlus","faEllipsisH","faExpandArrowsAlt","faHeading","faImages","faVideo","faFont","faListUl","faListOl","faTimes","faSearch","faCheckSquare","faWindowMinimize","faUserEdit","faTags","faClock","fasClock","faDatabase","faSyncAlt","faLaptopCode","faAngleDoubleLeft","faAngleDoubleRight","faLock","faAdjust","faEye","faGooglePlusSquare","faFacebookSquare","faTwitterSquare","faBold","faItalic","faUnderline","faStrikethrough","faSubscript","faPalette","faQuoteLeft","createApp","App","FontAwesomeIcon","H1","H2","H3","Img","Page","Video","NumberItem","BulletItem","TodoItem","DividingLine","ToggleList","CodeEditor","Quote","LinkPreview","use","mount","getLevelOfBlock","thisBlock","level","blockEl","blockWidth","newTextContent","newListContent","newMediaContent","newCheckBoxContent","newToggleTypeContent","isHidden","newLinkContent","Block","this","BlockFactory","h1","addContent","h2","h3","quote","codeEditor","numberItem","bulletItem","linkPreview","img","video","todoItem","dividingLine","getCopyBlockWithNewId","getCopyBlocksWithNewId","copyBlocks","hasBlockType","blocktypeList","blockType","getTypeByHotKey","checkAuthState","onAuthStateChanged","signOut","signUp","password","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","loginBySocialThen","social","brand","google","GoogleAuthProvider","facebook","FacebookAuthProvider","twitter","TwitterAuthProvider","provider","signInWithPopup","commonUpdateEffect","focusBlockIndex","setSelectedBlocksInClipboardBlocks","checkKeydownInPageData","deleteBlockAndDependByPressBackspace","deleteBlocksDepend","childBlock","deleteParentDepend","parentBlock","deletePageDepend","lastBlock","keyCode","checkBlockThenAddByPressEnter","hasParentIdAction","enterActions","duplicateBlock","duplicatePage","copyPage","addCopyPage","innerPageId","innerPage","replaceBlock","blockIdsOfPage","el","focus","ctrlKey","activeElement","blur","setNewBlocksIdsInPage","addMultiBlock","addedBlocks","spliceFunctionArr","addedBlocksIds","newBlocksIds","genratePageAndInnerByCopyingBlock","pageId","duplicateBlocksFromSelectedBlocks","newBlocks","lastBlockId","pageTypeBlocks","getClipboardText","clipboardText","contenteditable","$emit","getElementsByIdsInArr","selectors","array","querySelectorAll","getElementBySelector","selector","element","charAt","getDataURLByClipBoardData","ev","originalEvent","items","getAsFile","reader","FileReader","readAsDataURL","getMouseOffsetByClickElAndMove","isTrigger","startPoint","x","y","setStartPoint","mouseOffset","reactive","setOffset","mouseDown","clientY","mouseMove","isMouseInsideElement","boundingRect","isMouseUnderTheElement","dragDropEffect","domObject","dom","setDom","setValue","getDom","getValue","reset"],"mappings":"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J,CACEpC,MAAO,UACP3D,KAAM,SAGVgG,SAAU,GACVC,OAAQ,CACN,kBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,kBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,iBACA,iBACA,kBACA,iBACA,iBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,gBACA,gBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBAEFC,SAAU,iBAEZD,OAAQ,CACN,CACE9H,KAAM,KACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPC,KAAM,OACNC,KAAM,QAERC,UAAW,6BAEb,CACEnI,KAAM,QACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,cACND,KAAM,eAERE,UAAW,6BAEb,CACEnI,KAAM,IACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,2CACND,KAAM,4CAERE,UAAW,6BAEb,CACEnI,KAAM,IACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,GACND,KAAM,IAERE,UAAW,6BAEb,CACEnI,KAAM,IACN2H,GAAI,iBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,gDACND,KAAM,iDAERE,UAAW,6BAEb,CACEnI,KAAM,IACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,GACND,KAAM,IAERE,UAAW,6BAEb,CACEnI,KAAM,KACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPC,KAAM,QACNC,KAAM,SAERC,UAAW,6BAEb,CACEnI,KAAM,eACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,GACTG,UAAW,6BAEb,CACEnI,KAAM,aACN2H,GAAI,kBACJE,SAAU,GACVG,QAAS,CACPE,KAAM,QACND,KAAM,QACNG,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","file":"js/app.ec1658cc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-006a47c7\":\"87cc9967\",\"chunk-1fc39ff8\":\"abf38cb5\",\"chunk-43663db4\":\"9a1a4161\",\"chunk-55c84c12\":\"9e1bce81\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-006a47c7\":1,\"chunk-1fc39ff8\":1,\"chunk-43663db4\":1,\"chunk-55c84c12\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-006a47c7\":\"c475e492\",\"chunk-1fc39ff8\":\"045c8dda\",\"chunk-43663db4\":\"705ce97d\",\"chunk-55c84c12\":\"a206c848\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/note/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDonVssAookt2duygiVRQW24dFRQuKTkJU',\n  authDomain: 'note-38484.firebaseapp.com',\n  projectId: 'note-38484',\n  storageBucket: 'note-38484.appspot.com',\n  messagingSenderId: '929018557393',\n  appId: '1:929018557393:web:16cc3fb617ecedc93826f0',\n  measurementId: 'G-4GXGJN5W2F',\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n// 匯出firestore資料庫的實例\nexport const db = firebase.firestore();\n// 匯出firebase的auth的實例\nexport const auth = firebase.auth();\n\n// Export types that exists in Firestore\n// This is not always necessary, but it's used in other examples\nconst { TimeStamp, GeoPoint } = firebase.firestore;\nexport { TimeStamp, GeoPoint };\n\n// if using Firebase JS SDK < 5.8.0\ndb.settings({ timestampsInSnapshots: true });\n","import { ref } from 'vue';\n\nconst generateRandomString = () => Math.random().toString(36).substr(2, 14)\n  + Date.now().toString(36).substr(4, 14);\n\n// https://stackoverflow.com/questions/23601792/get-only-light-colors-randomly-using-javascript/23603772\nconst getRandomLightColor = () => {\n  const letters = 'BCDEF'.split('');\n  let color = '#';\n  for (let i = 0; i < 6; i += 1) {\n    color += letters[Math.floor(Math.random() * letters.length)];\n  }\n  return color;\n};\n\nconst commonArrEffect = () => {\n  const arrayList = () => {\n    const arr = {\n      value: [],\n    };\n\n    return {\n      addArrId: (id) => {\n        if (arr.value.includes(id)) return;\n        arr.value.push(id);\n      },\n\n      deleteArrId: (id) => {\n        if (!arr.value.includes(id)) return;\n        const index = arr.value.indexOf(id);\n        arr.value.splice(index, 1);\n      },\n\n      getArr: () => arr.value,\n\n      setArr: (newArr) => {\n        arr.value = newArr;\n      },\n\n      isIncludeId: (id) => arr.value.includes(id),\n    };\n  };\n\n  return {\n    arrayList,\n  };\n};\n\nconst stringMixer = () => {\n  const randomStr = generateRandomString();\n\n  return (value) => {\n    const number = parseInt(value, 36) + parseInt(randomStr, 36);\n    const str = number.toString(36);\n    if (str.length < 15) return `${str}6`;\n    if (str.length > 15) return str.slice(0, 15);\n    return str;\n  };\n};\n\nconst insertIds = (oldIds, addIds, spliceFunctionArr) => {\n  const ids = [...oldIds];\n\n  Array.prototype.splice.apply(ids, spliceFunctionArr(ids));\n\n  return ids;\n};\n\nconst commonStringEffect = () => {\n  const getFirstToUpper = (string) => string[0].toUpperCase() + string.slice(1);\n\n  return { getFirstToUpper };\n};\n\nconst commonCollisionEffect = () => {\n  const isBoxACollisionB = (a, b) => {\n    if (a.right > b.left && a.left < b.right && a.top < b.bottom && a.bottom > b.top) {\n      return true;\n    }\n    return false;\n  };\n\n  return { isBoxACollisionB };\n};\n\nconst showEffect = () => {\n  const isShow = ref(false);\n\n  const handleShow = (isTrueOrFalse) => {\n    isShow.value = isTrueOrFalse;\n  };\n\n  const toggleShow = () => {\n    isShow.value = !isShow.value;\n  };\n\n  return {\n    isShow,\n    handleShow,\n    toggleShow,\n  };\n};\n\nconst transTimeStampToLocalTime = (timestamp) => {\n  let number = timestamp;\n  if (typeof timestamp === 'string') {\n    number = parseInt(timestamp, 10);\n  }\n  return new Date(number).toLocaleString().slice(0, -3);\n};\n\nconst waitSecondAndCallBack = async (second, callback) => new Promise((resolve) => {\n  setTimeout(() => {\n    callback();\n    resolve();\n  }, second * 1000);\n});\n\nexport {\n  commonArrEffect,\n  commonStringEffect,\n  commonCollisionEffect,\n  showEffect,\n  transTimeStampToLocalTime,\n  waitSecondAndCallBack,\n  generateRandomString,\n  getRandomLightColor,\n  insertIds,\n  stringMixer,\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./H2.vue?vue&type=style&index=0&id=90deed66&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BulletItem.vue?vue&type=style&index=0&id=706ce222&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScaleController.vue?vue&type=style&index=0&id=4dbd9100&lang=scss&scoped=true\"","const firstPageData = {\n  page: {\n    cover: '',\n    name: 'Note ',\n    createdTime: '1630687828342',\n    id: 'uba9uqkk2hhfh4m',\n    tags: [\n      {\n        color: '#BFEBFE',\n        name: 'note',\n      },\n    ],\n    parentId: '',\n    blocks: [\n      'dk75vhqipqis558',\n      '9w1lg6e7w8v6wsz',\n      '3iqx0vh6ap3794r',\n      'fhj7t6ckg5j1n1g',\n      'jmsrbxrhhmxnyw',\n      '4109or7kftym0w7',\n      'u4sljmzfw0o69jq',\n      '5huu2lqe4quhvbb',\n      'bg415c0t7autn0k',\n      '3prrrwphj7otqml',\n      'yfr1xh4mtfquemc',\n      '5nqu6bv43mruiph',\n      'km1vjfl7r4upp9',\n      '752nh83f12euubg',\n      '7wsp7qnhifwvgxh',\n      'rqqp7hlyfreyfuj',\n      'pa5km4g2zjzbzm',\n      'uhvuoju70er0waj',\n      'l03j48338zn1j1n',\n      'kqj8ek8jph82137',\n      'ywssaqsldz2g8b',\n      '83w8xq8b822kei',\n      'bf3fq1juqd96fka',\n      '6bvv9bf4vf56gyh',\n      '0xd21yzjcr7zi4r',\n      '94s76m9vrpi0mxv',\n      'rolwh0wa2k0o83',\n      'zxcjhb8i2k4e6i',\n      'qv1alsaphsc4lne',\n      'un7cpjleudaeu8',\n      'yql3atld6wiwu5',\n      'ameiyp6qntwi4p3',\n      'qd8fvpxnrveblfn',\n      'bxohjj3gt2c619x',\n      'gronzht7jrja1fd',\n      'wjmgset6w6h5f4',\n      'sralaqrt1zeii3y',\n      'apcudm5mskuk93s',\n      'iu8m7k4ca2ao75b',\n      'lvrl4irw23oiri',\n      'vt5ca2owpqbepe',\n      'a0g37lp49iebohl',\n      'pie9npuhsccna9',\n      'xirwbktp98rw9p',\n      '7vi9tcnt0ovs3hx',\n      '8b4l84jxl6jv4jv',\n      'ff77g71bybvpur',\n      'q58gjuch6fdw8er',\n      'gnqa4830deu4bwq',\n      '4jyvq3zqohr65d5',\n      'pqwq48p6d69hl',\n      'pi756lq8l69pt',\n      'gjuzhaevak69uy',\n      'gpzw3je85x46a02',\n      'sfb0jwfxhtc6a4y',\n      '4p6s13i710c6aa2',\n      '5qv6c1s026c6afe',\n      'hvycs1fo0nf6aky',\n      'zkpv72dinwc6aqa',\n      'xiuck8vc7tc6avu',\n      'rax7q8qawqf6b1e',\n      'upba9dfscmi6b6q',\n      'dwyxkti2af6bde',\n    ],\n    editTime: '1630934644625',\n  },\n  blocks: [\n    {\n      type: 'h2',\n      id: 'dk75vhqipqis558',\n      parentId: '',\n      content: {\n        html: '專案介紹',\n        text: '專案介紹',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'quote',\n      id: '9w1lg6e7w8v6wsz',\n      parentId: '',\n      content: {\n        text: 'Note是一個筆記軟體',\n        html: 'Note是一個筆記軟體',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: '3iqx0vh6ap3794r',\n      parentId: '',\n      content: {\n        text: '主要功能參考至筆記軟體notion，目前為Beta測試版，後續會增加更多實用功能',\n        html: '主要功能參考至筆記軟體notion，目前為Beta測試版，後續會增加更多實用功能',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'fhj7t6ckg5j1n1g',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'jmsrbxrhhmxnyw',\n      parentId: '',\n      content: {\n        text: '主要開發都是在web上，因此最好使用電腦來操作此網頁，若是使用手機來操作，可能尚有許多問題',\n        html: '主要開發都是在web上，因此最好使用電腦來操作此網頁，若是使用手機來操作，可能尚有許多問題',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: '4109or7kftym0w7',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'h2',\n      id: 'u4sljmzfw0o69jq',\n      parentId: '',\n      content: {\n        html: '涉及知識點',\n        text: '涉及知識點',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'dividingLine',\n      id: '5huu2lqe4quhvbb',\n      parentId: '',\n      content: '',\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'bg415c0t7autn0k',\n      parentId: '',\n      content: {\n        text: 'vue 3',\n        html: 'vue 3',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '3prrrwphj7otqml',\n      parentId: '',\n      content: {\n        text: 'composition api',\n        html: 'composition api',\n        indent: 1,\n      },\n      className: 'style-text-color__red',\n    },\n    {\n      type: 'bulletItem',\n      id: 'yfr1xh4mtfquemc',\n      parentId: '',\n      content: {\n        text: '遞迴組件(樹狀結構)',\n        html: '遞迴組件(樹狀結構)',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '5nqu6bv43mruiph',\n      parentId: '',\n      content: {\n        text: 'vuex 4',\n        html: 'vuex 4',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'km1vjfl7r4upp9',\n      parentId: '',\n      content: {\n        text: '使用modules管理不同的數據',\n        html: '使用modules管理不同的數據',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '752nh83f12euubg',\n      parentId: '',\n      content: {\n        text: 'store.watch監聽state變化順便更新到資料庫',\n        html: 'store.watch監聽state變化順便更新到資料庫',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '7wsp7qnhifwvgxh',\n      parentId: '',\n      content: {\n        text: 'store.subscribe監聽mutation的更新',\n        html: 'store.subscribe監聽mutation的更新',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'rqqp7hlyfreyfuj',\n      parentId: '',\n      content: {\n        text: 'vue router 4',\n        html: 'vue router 4',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'pa5km4g2zjzbzm',\n      parentId: '',\n      content: {\n        text: '路由導航',\n        html: '路由導航',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'uhvuoju70er0waj',\n      parentId: '',\n      content: {\n        text: '套件',\n        html: '套件',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'l03j48338zn1j1n',\n      parentId: '',\n      content: {\n        text: 'secure LS (localstorage加密)',\n        html: 'secure LS (localstorage加密)',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'kqj8ek8jph82137',\n      parentId: '',\n      content: {\n        text: 'prismjs (程式碼高亮顯示)',\n        html: 'prismjs (程式碼高亮顯示)',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'ywssaqsldz2g8b',\n      parentId: '',\n      content: {\n        text: 'bootstrap 5.0',\n        html: 'bootstrap 5.0',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '83w8xq8b822kei',\n      parentId: '',\n      content: {\n        text: 'font awesome 5.0',\n        html: 'font awesome 5.0',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'bf3fq1juqd96fka',\n      parentId: '',\n      content: {\n        text: 'scss',\n        html: 'scss',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '6bvv9bf4vf56gyh',\n      parentId: '',\n      content: {\n        text: 'eslint (使用airbnb風格)',\n        html: 'eslint (使用airbnb風格)',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '0xd21yzjcr7zi4r',\n      parentId: '',\n      content: {\n        text: 'firebase',\n        html: 'firebase',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '94s76m9vrpi0mxv',\n      parentId: '',\n      content: {\n        text: 'Authentication',\n        html: 'Authentication',\n        indent: 2,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'rolwh0wa2k0o83',\n      parentId: '',\n      content: {\n        text: 'firestore',\n        html: 'firestore',\n        indent: 2,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'zxcjhb8i2k4e6i',\n      parentId: '',\n      content: {\n        text: '使用到的api',\n        html: '使用到的api',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'qv1alsaphsc4lne',\n      parentId: '',\n      content: {\n        text: 'LinkPreview API',\n        html: 'LinkPreview API',\n        indent: 1,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'un7cpjleudaeu8',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'h2',\n      id: 'yql3atld6wiwu5',\n      parentId: '',\n      content: {\n        html: '功能說明',\n        text: '功能說明',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'dividingLine',\n      id: 'ameiyp6qntwi4p3',\n      parentId: '',\n      content: '',\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'qd8fvpxnrveblfn',\n      parentId: '',\n      content: {\n        text: '完整功能可以參考以下連結(或者如果是Notion使用者，可以依照對Notion的經驗自己嘗試玩看看~)',\n        html: '完整功能可以參考以下連結(或者如果是Notion使用者，可以依照對Notion的經驗自己嘗試玩看看~)',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'linkPreview',\n      id: 'bxohjj3gt2c619x',\n      parentId: '',\n      content: {\n        title: 'Note - HackMD',\n        description: '![](https://i.imgur.com/p924bGV.png) # Note > Note是一個筆記軟體 主要功能參考至notion。目前為測試版，有許多小問題... 後續會增',\n        image: 'https://www.gravatar.com/avatar/dbcf568e433f289f7e93f61f9dedbb7e?s=400',\n        url: 'https://hackmd.io/@Wins/SyqEdjwfD',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'gronzht7jrja1fd',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'h2',\n      id: 'wjmgset6w6h5f4',\n      parentId: '',\n      content: {\n        text: '關於資料的更新和保存',\n        html: '關於資料的更新和保存',\n      },\n      className: 'style-text-color__purple',\n    },\n    {\n      type: 'dividingLine',\n      id: 'sralaqrt1zeii3y',\n      parentId: '',\n      content: '',\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'apcudm5mskuk93s',\n      parentId: '',\n      content: {\n        text: '原本最初的作法是 : 修改數據就更新到firestore數據庫上，結果某一次測試輸入太多文字，firestore就爆流量限制問題了...',\n        html: '原本最初的作法是 : 修改數據就更新到firestore數據庫上，結果某一次測試輸入太多文字，firestore就爆流量限制問題了...',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'quote',\n      id: 'iu8m7k4ca2ao75b',\n      parentId: '',\n      content: {\n        text: '免費的不要要求太多...',\n        html: '免費的不要要求太多...',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'lvrl4irw23oiri',\n      parentId: '',\n      content: {\n        text: '所以目前資料的保存，會在每一次的編輯立馬更新到localstorage上，這是目前的暫緩作法。(不用特地到localstorage改資料，已經做加密處理，除非你要清空所有資料...)',\n        html: '所以目前資料的保存，會在每一次的編輯立馬更新到localstorage上，這是目前的暫緩作法。(不用特地到localstorage改資料，已經做加密處理，除非你要清空所有資料...)',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'vt5ca2owpqbepe',\n      parentId: '',\n      content: {\n        text: ' ',\n        html: '<br>',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'a0g37lp49iebohl',\n      parentId: '',\n      content: {\n        text: '因此目前使用者在此網站上輸入任何內容都會是保存狀態。',\n        html: '因此目前使用者在此網站上輸入任何內容都會是保存狀態。',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'pie9npuhsccna9',\n      parentId: '',\n      content: {\n        text: '若想要在其他台電腦使用當前資料繼續編輯，請按下畫面最右上方的 -更新到數據庫- ，會直接把資料儲存到雲端數據庫中',\n        html: '若想要在其他台電腦使用當前資料繼續編輯，請按下畫面最右上方的 -更新到數據庫- ，會直接把資料儲存到雲端數據庫中',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'xirwbktp98rw9p',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'h2',\n      id: '7vi9tcnt0ovs3hx',\n      parentId: '',\n      content: {\n        text: '一直點左邊的按鈕增加block(區塊)好麻煩，有沒有快捷鍵?',\n        html: '一直點左邊的按鈕增加block(區塊)好麻煩，有沒有快捷鍵?',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'todoItem',\n      id: '8b4l84jxl6jv4jv',\n      parentId: '',\n      content: {\n        text: '有',\n        html: '有',\n        isChecked: true,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'todoItem',\n      id: 'ff77g71bybvpur',\n      parentId: '',\n      content: {\n        text: '作者太懶了，沒有',\n        html: '作者太懶了，沒有',\n        isChecked: false,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'q58gjuch6fdw8er',\n      parentId: '',\n      content: {\n        text: '',\n        html: '',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'p',\n      id: 'gnqa4830deu4bwq',\n      parentId: '',\n      content: {\n        text: '可以輸入以下快捷鍵，並按下Enter，即可轉換為其他類型的block',\n        html: '可以輸入以下快捷鍵，並按下Enter，即可轉換為其他類型的block',\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '4jyvq3zqohr65d5',\n      parentId: '',\n      content: {\n        text: '/h1',\n        html: '/h1',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'pqwq48p6d69hl',\n      parentId: '',\n      content: {\n        text: '/h2',\n        html: '/h2',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'pi756lq8l69pt',\n      parentId: '',\n      content: {\n        text: '/h3',\n        html: '/h3',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'gjuzhaevak69uy',\n      parentId: '',\n      content: {\n        text: '/vid',\n        html: '/vid',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'gpzw3je85x46a02',\n      parentId: '',\n      content: {\n        text: '/img',\n        html: '/img',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'sfb0jwfxhtc6a4y',\n      parentId: '',\n      content: {\n        text: '/p',\n        html: '/p',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '4p6s13i710c6aa2',\n      parentId: '',\n      content: {\n        text: '/pag',\n        html: '/pag',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: '5qv6c1s026c6afe',\n      parentId: '',\n      content: {\n        text: '/num',\n        html: '/num',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'hvycs1fo0nf6aky',\n      parentId: '',\n      content: {\n        text: '/bul',\n        html: '/bul',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'zkpv72dinwc6aqa',\n      parentId: '',\n      content: {\n        text: '/todo',\n        html: '/todo',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'xiuck8vc7tc6avu',\n      parentId: '',\n      content: {\n        text: '/div',\n        html: '/div',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'rax7q8qawqf6b1e',\n      parentId: '',\n      content: {\n        text: '/code',\n        html: '/code',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'upba9dfscmi6b6q',\n      parentId: '',\n      content: {\n        text: '/quo',\n        html: '/quo',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n    {\n      type: 'bulletItem',\n      id: 'dwyxkti2af6bde',\n      parentId: '',\n      content: {\n        text: '/link',\n        html: '/link',\n        indent: 0,\n      },\n      className: 'style-text-color__default',\n    },\n  ],\n};\n\nexport default firstPageData;\n","export const findInStoreById = (collection, id) => collection.find((item) => item.id === id);\n\nexport const arrayDeleteByValue = (arr, value) => {\n  const newArr = [...arr];\n  const index = newArr.indexOf(value);\n  newArr.splice(index, 1);\n  return newArr;\n};\n","import { findInStoreById, arrayDeleteByValue } from './commonStoreEffect';\nimport { generateRandomString, getRandomLightColor } from '../../components/commonEffect';\n\nexport default {\n  namespaced: true,\n  state: {\n    pages: [],\n    currentPageId: '',\n    currentPageIdOnMouse: '',\n  },\n  mutations: {\n    // 處理pages\n    resetPages(state) {\n      state.pages = [];\n      state.currentPageId = '';\n    },\n\n    addPage(state,\n      page = {\n        id: generateRandomString(),\n        name: 'untitle',\n        blocks: [],\n        parentId: '',\n        createdTime: new Date().getTime().toString(),\n        editTime: new Date().getTime().toString(),\n        tags: [],\n        cover: '',\n      }) {\n      state.pages.push(page);\n    },\n\n    deletePage(state, page) {\n      state.pages = arrayDeleteByValue(state.pages, page);\n    },\n\n    editPageData(state, {\n      page = findInStoreById(state.pages, state.currentPageId),\n      key,\n      value,\n    }) {\n      if (!page) {\n        console.log('請先選擇頁面');\n        return;\n      }\n      // eslint-disable-next-line no-param-reassign\n      page[key] = value;\n    },\n\n    addIdToBlocksOfPage(state, {\n      page = findInStoreById(state.pages, state.currentPageId),\n      id,\n      index,\n    }) {\n      if (index === undefined) {\n        page.blocks.push(id);\n        return;\n      }\n      page.blocks.splice(index, 0, id);\n    },\n\n    deleteIdToBlocksOfPage(state, {\n      page = findInStoreById(state.pages, state.currentPageId),\n      id,\n    }) {\n      const index = page.blocks.indexOf(id);\n      page.blocks.splice(index, 1);\n    },\n\n    // 處理currentPageId\n    setCurrentPageId(state, id) {\n      if (id === state.currentPageId) return;\n      state.currentPageId = id;\n    },\n  },\n  getters: {\n    // 回傳帶入的page的id所取得的所有子集pages ; 帶入''回傳根pages\n    childrenPages(state) {\n      return (id) => state.pages.filter((page) => page.parentId === id);\n    },\n    // 回傳帶入的page所取得的父page\n    parentPage(state) {\n      return (page) => findInStoreById(state.pages, page.parentId);\n    },\n    // 回傳帶入的某id所取得的page\n    choosePage(state) {\n      return (id) => findInStoreById(state.pages, id);\n    },\n    // 回傳當前workspace顯示的page\n    currentPage(state) {\n      return findInStoreById(state.pages, state.currentPageId);\n    },\n\n    searchPages(state) {\n      return (str) => (str !== '' ? state.pages.filter((page) => page.name.includes(str)) : null);\n    },\n\n    getPageByBlockId(state) {\n      return (blockId) => state.pages.find((page) => page.blocks.includes(blockId));\n    },\n\n    allPagesIds(state) {\n      const allIds = [];\n      state.pages.forEach((page) => {\n        allIds.push(page.id);\n      });\n      return allIds;\n    },\n  },\n  actions: {\n    moveIdInBlocksOfPage({ commit }, { page, id, index }) {\n      commit('deleteIdToBlocksOfPage', {\n        page,\n        id,\n      });\n      commit('addIdToBlocksOfPage', {\n        page,\n        id,\n        index,\n      });\n    },\n\n    // 刪除某頁面 item是點擊刪除按鈕同行的page\n    deletePage({\n      state, rootState, commit, dispatch,\n    }, page) {\n      if (page.parentId !== '') {\n        const blockThatHasPageId = rootState.blocks.blocks\n          .find((block) => block.content === page.id);\n        if (blockThatHasPageId) {\n          dispatch('blocks/deleteBlock', {\n            containPage: findInStoreById(state.pages, page.parentId),\n            block: blockThatHasPageId,\n          }, { root: true });\n        }\n      }\n\n      const blockList = [...page.blocks];\n      blockList.forEach((blockId) => {\n        const blockInPage = rootState.blocks.blocks.find((block) => block.id === blockId);\n        dispatch('blocks/deleteBlock', {\n          containPage: page,\n          block: blockInPage,\n        }, { root: true });\n      });\n\n      commit('deletePage', page);\n\n      const childrenPages = state.pages.filter((aPage) => aPage.parentId === page.id);\n      if (childrenPages && childrenPages.length !== 0) {\n        childrenPages.forEach((aPage) => dispatch('deletePage', aPage));\n      }\n    },\n\n    addTag({ state, commit }, name) {\n      const page = findInStoreById(state.pages, state.currentPageId);\n      const tag = {\n        name,\n        color: getRandomLightColor(),\n      };\n      commit('editPageData', {\n        key: 'tags',\n        value: [...page.tags, tag],\n      });\n    },\n\n    deleteTag({ state, commit }, tag) {\n      const page = findInStoreById(state.pages, state.currentPageId);\n      commit('editPageData', {\n        key: 'tags',\n        value: page.tags.filter((aTag) => aTag !== tag),\n      });\n    },\n  },\n};\n","import { findInStoreById } from './commonStoreEffect';\nimport { generateRandomString } from '../../components/commonEffect';\n\nexport default {\n  namespaced: true,\n  state: {\n    blocks: [],\n    currentFocusBlockId: '',\n    selectedBlocksIds: [],\n    clipboardBlocks: [],\n    hiddenBlocksIds: [],\n    blockStyleEditor: {\n      isShow: false,\n    },\n  },\n  mutations: {\n    // 處理blocks\n    resetBlocks(state) {\n      state.blocks = [];\n      state.currentFocusBlockId = '';\n      state.selectedBlocksIds = [];\n      state.hiddenBlocksIds = [];\n    },\n\n    addBlock(state, block) {\n      state.blocks.push(block);\n    },\n\n    deleteBlock(state, block) {\n      const index = state.blocks.indexOf(block);\n      state.blocks.splice(index, 1);\n    },\n\n    addIdToBlocksOfBlock(state, { block, blockId, index }) {\n      if (index !== undefined) {\n        block.blocks.splice(index, 0, blockId);\n      } else {\n        block.blocks.push(blockId);\n      }\n    },\n\n    deleteIdToBlocksOfBlock(state, { block, blockId }) {\n      const index = block.blocks.indexOf(blockId);\n      block.blocks.splice(index, 1);\n    },\n\n    // 處理currentFocusBlockId\n    editBlockData(state, { id = state.currentFocusBlockId, value, key = 'content' }) {\n      findInStoreById(state.blocks, id)[key] = value;\n    },\n\n    changeBlock(state, { oldBlock, newBlock }) {\n      const index = state.blocks.indexOf(oldBlock);\n      if (index !== -1) {\n        state.blocks[index] = newBlock;\n      }\n    },\n\n    setFocusBlockById(state, id) {\n      state.currentFocusBlockId = id;\n    },\n\n    // selectedBlocksIds\n    setSelectedBlocksIds(state, arr = []) {\n      state.selectedBlocksIds = arr;\n    },\n\n    addIdToSelectedBlocksIds(state, id) {\n      if (state.selectedBlocksIds.includes(id)) return false;\n      state.selectedBlocksIds.push(id);\n      return true;\n    },\n\n    deleteIdFromSelectedBlocksIds(state, id) {\n      if (state.selectedBlocksIds.includes(id)) {\n        const index = state.selectedBlocksIds.indexOf(id);\n        state.selectedBlocksIds.splice(index, 1);\n        return true;\n      }\n      return false;\n    },\n\n    // 處理hiddenBlocksIds\n    addIdsToHiddenBlocksIds(state, ids) {\n      ids.forEach((id) => {\n        if (!state.hiddenBlocksIds.includes(id)) {\n          state.hiddenBlocksIds.push(id);\n        }\n      });\n    },\n\n    deleteIdsToHiddenBlocksIds(state, ids) {\n      ids.forEach((id) => {\n        if (state.hiddenBlocksIds.includes(id)) {\n          const index = state.hiddenBlocksIds.indexOf(id);\n          state.hiddenBlocksIds.splice(index, 1);\n        }\n      });\n    },\n\n    resetHiddenBlocksIds(state) {\n      state.hiddenBlocksIds = [];\n    },\n\n    // 處理blockStyleEditor\n    setStyleEditorShow(state, isTrueOrFalse) {\n      state.blockStyleEditor = isTrueOrFalse;\n    },\n\n    setClipboardBlocks(state, blocks) {\n      state.clipboardBlocks = [...blocks];\n    },\n  },\n  getters: {\n    // 回傳當前page裡面包含的所有blocks\n    currentBlocks(state, getters, rootState, rootGetters) { // 這邊的問題 應該讓所有block(包含子block)單純放page裡面\n      // eslint-disable-next-line max-len\n      return rootGetters['pages/currentPage'].blocks.map((itemId) => findInStoreById(state.blocks, itemId));\n    },\n    // 回傳當前page裡面包含的所有blocks的id的陣列\n    currentBlocksIds(state, getters, rootState, rootGetters) {\n      return rootGetters['pages/currentPage'].blocks;\n    },\n    // 回傳帶入的某id所取得的block\n    chooseBlock(state) {\n      return (id) => findInStoreById(state.blocks, id);\n    },\n    // 回傳帶入的block的id所取得的所有子集blocks ; 帶入''回傳當前頁有的根blocks\n    childrenCurrentBlocks(state, getters) {\n      return (id) => getters.currentBlocks.filter((block) => block.parentId === id);\n    },\n    // 回傳當前page裡面被選中的block\n    currentFocusBlock(state, getters) {\n      return findInStoreById(getters.currentBlocks, state.currentFocusBlockId);\n    },\n\n    searchBlocks(state) {\n      return (str) => (str !== '' ? state.blocks.filter((block) => block.content?.text?.includes(str)) : null);\n    },\n\n    isIdInHiddenBlocksIds(state) {\n      return (id) => state.hiddenBlocksIds.includes(id);\n    },\n\n    getIndexByBlockId(state, getters) {\n      return (id) => getters.currentBlocksIds.indexOf(id);\n    },\n\n    getPrevBlockByid(state, getters) {\n      return (id) => {\n        const index = getters.currentBlocksIds.indexOf(id);\n        if (index === 0) return null;\n        return getters.currentBlocks[index - 1];\n      };\n    },\n\n    getNextBlockByid(state, getters) {\n      return (id) => {\n        const index = getters.currentBlocksIds.indexOf(id);\n        if (index === getters.currentBlocksIds.length - 1) return null;\n        return getters.currentBlocks[index + 1];\n      };\n    },\n\n    selectedBlocks(state, getters) {\n      const blocks = [];\n      state.selectedBlocksIds.forEach((blockId) => {\n        const block = findInStoreById(getters.currentBlocks, blockId);\n        blocks.push(block);\n      });\n      return blocks;\n    },\n\n    isBlockSelected(state) {\n      return (id) => state.selectedBlocksIds.includes(id);\n    },\n\n    allBlocksIds(state) {\n      const allIds = [];\n      state.blocks.forEach((block) => {\n        allIds.push(block.id);\n      });\n      return allIds;\n    },\n\n    getClipboardBlocksIds(state) {\n      return state.clipboardBlocks.map((block) => block.id);\n    },\n  },\n  actions: {\n    addBlock({ commit, rootState }, {\n      page = findInStoreById(rootState.pages.pages, rootState.pages.currentPageId),\n      block = {\n        id: generateRandomString(),\n        type: 'p',\n        content: '',\n        blocks: [],\n        parentId: '',\n        className: 'style-text-color__default',\n      },\n      index,\n    }) {\n      commit('addBlock', block);\n\n      commit('pages/addIdToBlocksOfPage', {\n        page,\n        id: block.id,\n        index: index || undefined,\n      }, { root: true });\n    },\n\n    addBlockAndSetFocusBlockId({ commit, dispatch, rootState }, {\n      page = findInStoreById(rootState.pages.pages, rootState.pages.currentPageId),\n      block = {\n        id: generateRandomString(),\n        type: 'p',\n        content: {\n          text: '',\n          html: '',\n        },\n        blocks: [],\n        parentId: '',\n        className: 'style-text-color__default',\n      },\n      index,\n    }) {\n      dispatch('addBlock', { block, page, index });\n      commit('blocks/setFocusBlockById', block.id, { root: true });\n    },\n\n    addPageTypeBlock({ commit, dispatch, rootState }, {\n      block,\n      page = rootState.pages.currentPageId,\n    }) {\n      const newBlock = { ...block };\n      if (newBlock.content !== page.id) {\n        newBlock.content = page.id;\n      }\n\n      dispatch('addBlock', {\n        block: newBlock,\n      });\n\n      const newPage = {\n        id: generateRandomString(),\n        name: 'untitle',\n        blocks: [],\n        parentId: page.id,\n        createdTime: new Date().getTime().toString(),\n        editTime: new Date().getTime().toString(),\n        tags: [],\n        cover: '',\n      };\n      commit('pages/addPage', newPage, { root: true });\n    },\n\n    deleteBlock({ state, rootState, commit }, {\n      containPage = findInStoreById(rootState.pages.pages, rootState.pages.currentPageId),\n      block = findInStoreById(state.blocks, state.currentFocusBlockId),\n    }) {\n      // 刪除當前page的blocks裡面對應的id\n      commit('pages/deleteIdToBlocksOfPage', {\n        page: containPage,\n        id: block.id,\n      }, { root: true });\n\n      commit('deleteBlock', block); // 徹底刪除此block\n    },\n\n    deleteSelectedBlocks({ state, dispatch }) {\n      state.selectedBlocksIds.forEach((blockId) => {\n        const block = findInStoreById(state.blocks, blockId);\n        dispatch('deleteBlock', { block });\n      });\n    },\n\n    editSelectedBlocksData({ state, commit }, { key, value }) {\n      state.selectedBlocksIds.forEach((blockId) => {\n        commit('editBlockData', { key, value, id: blockId });\n      });\n    },\n\n    goBlockPosition({ commit }, { page, block }) {\n      commit('pages/setCurrentPageId', page.id, { root: true });\n      commit('setFocusBlockById', block.id);\n    },\n  },\n};\n","export default {\n  namespaced: true,\n  state: {\n    userInfo: {},\n  },\n  mutations: {\n    resetUserInfo(state) {\n      state.userInfo = {};\n    },\n\n    setUserInfo(state, info) {\n      state.userInfo = info;\n    },\n\n    // 處理recentPageIds\n    addIdToRecentPageIds(state, id = state.currentPageId) {\n      if (state.userInfo.recentPageIds.includes(id)) return;\n      state.userInfo.recentPageIds.push(id);\n      if (state.userInfo.recentPageIds.length > 10) {\n        state.userInfo.recentPageIds.splice(0, 1);\n      }\n    },\n\n    deleteIdFromRecentPageIds(state, id) {\n      const index = state.userInfo.recentPageIds.indexOf(id);\n      state.userInfo.recentPageIds.splice(index, 1);\n    },\n  },\n  getters: {\n    getPagesInRecentPageIds(state, getters, rootState, rootGetters) {\n      const pageList = [];\n      state.userInfo.recentPageIds.forEach((id) => {\n        const page = rootGetters['pages/choosePage'](id);\n        if (page) pageList.push(page);\n      });\n      return pageList;\n    },\n\n  },\n};\n","/* eslint-disable no-undef */\nimport { createStore } from 'vuex';\nimport pages from './modules/pages';\nimport blocks from './modules/blocks';\nimport userInfo from './modules/userInfo';\nimport { waitSecondAndCallBack } from '../components/commonEffect';\n\nconst isWindowWidthLarge = () => window.innerWidth > 992;\n\nexport default createStore({\n  state: {\n    blocktype: [\n      {\n        type: 'h1',\n        icon: 'heading',\n        style: 'solid',\n        name: '大標題',\n        className: 'block-h1',\n        hotKey: 'h1',\n      },\n      {\n        type: 'h2',\n        icon: 'heading',\n        style: 'solid',\n        name: '中標題',\n        className: 'block-h2',\n        hotKey: 'h2',\n      },\n      {\n        type: 'h3',\n        icon: 'heading',\n        style: 'solid',\n        name: '小標題',\n        className: 'block-h3',\n        hotKey: 'h3',\n      },\n      {\n        type: 'video',\n        icon: 'video',\n        style: 'solid',\n        name: '影片',\n        className: 'block-video',\n        hotKey: 'vid',\n      },\n      {\n        type: 'img',\n        icon: 'images',\n        style: 'regular',\n        name: '圖片',\n        className: 'block-img',\n        hotKey: 'img',\n      },\n      {\n        type: 'p',\n        icon: 'font',\n        style: 'solid',\n        name: '文字片段',\n        className: 'block-p',\n        hotKey: 'p',\n      },\n      {\n        type: 'page',\n        icon: 'file',\n        style: 'regular',\n        size: '1x',\n        name: '內嵌頁面',\n        className: 'block-page',\n        hotKey: 'pag',\n      },\n      {\n        type: 'numberItem',\n        icon: 'list-ol',\n        style: 'solid',\n        name: '順序列表',\n        className: 'block-number-item',\n        hotKey: 'num',\n      },\n      {\n        type: 'bulletItem',\n        icon: 'list-ul',\n        style: 'solid',\n        name: '無序列表',\n        className: 'block-bullet-item',\n        hotKey: 'bul',\n      },\n      // {\n      //   type: 'toggleList',\n      //   icon: 'caret-right',\n      //   style: 'solid',\n      //   size: '1x',\n      //   name: '切換列表',\n      //   className: 'block-toggle-list',\n      // },\n      {\n        type: 'todoItem',\n        icon: 'check-square',\n        style: 'regular',\n        name: '核取框',\n        className: 'block-todo-item',\n        hotKey: 'todo',\n      },\n      {\n        type: 'dividingLine',\n        icon: 'window-minimize',\n        style: 'regular',\n        name: '分割線',\n        className: 'block-dividing-line',\n        hotKey: 'div',\n      },\n      {\n        type: 'codeEditor',\n        icon: 'laptop-code',\n        style: 'solid',\n        name: '程式碼',\n        className: 'block-code-editor',\n        hotKey: 'code',\n      },\n      {\n        type: 'quote',\n        icon: 'quote-left',\n        style: 'solid',\n        name: '引言',\n        className: 'block-quote',\n        hotKey: 'quo',\n      },\n      {\n        type: 'linkPreview',\n        icon: 'eye',\n        style: 'regular',\n        name: '連結預覽',\n        className: 'block-link-preview',\n        hotKey: 'link',\n      },\n    ],\n    colors: [\n      'D7EBBA',\n      'fac3cd',\n      'c5d9e4',\n      'fac9c9',\n      'c2d1f1',\n      'faeca5',\n      'E6F8B2',\n    ],\n    sidebarState: {\n      isCollapse: true,\n      isFloating: !isWindowWidthLarge(),\n      currentWidth: '',\n    },\n    windowWidth: '',\n    dragStartIds: '',\n    isIframeActive: false,\n  },\n  mutations: {\n    // 把FS的資料全部取到state中\n    setStoreData(state, { data, name }) { // 這個放這\n      state[name][name] = data;\n    },\n\n    setWindowWidth(state, width) {\n      state.windowWidth = width;\n    },\n\n    setSidebarCollapse(state, isTrueOrFalse) { // 這個留這\n      state.sidebarState.isCollapse = isTrueOrFalse;\n    },\n\n    setSidebarFloating(state, isTrueOrFalse) {\n      state.sidebarState.isFloating = isTrueOrFalse;\n    },\n\n    setCurrentSidebarWidth(state, width) {\n      state.sidebarState.currentWidth = width;\n    },\n\n    setDragStartIds(state, ids) {\n      state.dragStartIds = ids;\n    },\n\n    setIframeActive(state, isTrueOrFalse) {\n      state.isIframeActive = isTrueOrFalse;\n    },\n  },\n  getters: {\n    getClassNameOfBlockType(state) {\n      return (type) => state.blocktype.find((item) => item.type === type).className;\n    },\n  },\n  actions: {\n    resetStoreData({ commit }) {\n      commit('pages/resetPages', null, { root: true });\n      commit('blocks/resetBlocks', null, { root: true });\n    },\n\n    async floatSidebar({ commit, state }) {\n      if (state.sidebarState.isCollapse === false) {\n        commit('setSidebarCollapse', true);\n      }\n      await waitSecondAndCallBack(1.2, () => {\n        if (state.sidebarState.isFloating === false) {\n          commit('setSidebarFloating', true);\n        }\n      });\n    },\n\n    async lockSidebar({ commit }) {\n      await waitSecondAndCallBack(0.5, () => {\n        commit('setSidebarFloating', false);\n      });\n      commit('setSidebarCollapse', false);\n    },\n  },\n  modules: {\n    pages,\n    blocks,\n    userInfo,\n  },\n});\n","/* eslint-disable no-await-in-loop */\nimport { computed } from 'vue';\nimport store from './index';\nimport { db } from './firebase';\n\nexport const getUserDataByEmailFromFS = async (email) => new Promise((resolve, reject) => {\n  db.collection('users')\n    .where('userInfo.email', '==', email)\n    .get()\n    .then((querySnapshot) => {\n      if (querySnapshot.empty) {\n        resolve(null);\n      } else {\n        querySnapshot.forEach((doc) => {\n          resolve(doc.data());\n        });\n      }\n    })\n    .catch((err) => {\n      reject(err);\n    });\n});\n\nexport const isUserDataInFS = async (user) => {\n  try {\n    const result = await getUserDataByEmailFromFS(user.email);\n    if (result) return true;\n    return false;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n};\n\nexport const queryEmailFromFS = async (email) => new Promise((resolve, reject) => {\n  db.collection('users')\n    .where('email', '==', email)\n    .get()\n    .then((querySnapshot) => {\n      if (querySnapshot.empty) {\n        resolve(null);\n      } else {\n        querySnapshot.forEach((doc) => {\n          resolve(doc.data());\n        });\n      }\n    })\n    .catch((err) => {\n      reject(err);\n    });\n});\n\nexport const setUserDataToFS = async (data) => new Promise((resolve, reject) => {\n  db.collection('users')\n    .doc(data.userInfo.email)\n    .set(data)\n    .then(() => {\n      resolve();\n    })\n    .catch((err) => {\n      reject(err);\n    });\n});\n\nexport const updateStoreToFS = async () => {\n  const pages = computed(() => store.state.pages.pages);\n  const blocks = computed(() => store.state.blocks.blocks);\n  const userInfo = computed(() => store.state.userInfo.userInfo);\n\n  const info = {\n    userInfo: userInfo.value,\n    pages: pages.value,\n    blocks: blocks.value,\n  };\n  await setUserDataToFS(info);\n};\n\nexport const getUserDataFromFS = async (email) => {\n  db.collection('users')\n    .doc(email)\n    .get()\n    .then((doc) => doc.data())\n    .catch((err) => {\n      console.log(err);\n      return null;\n    });\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./P.vue?vue&type=style&index=0&id=789de821&lang=scss&scoped=true\"","<template>\n  <BlockEditable\n        :block=\"block\"\n        :placeholder=\"'請輸入標題'\"\n        :className=\"'h1'\"/>\n</template>\n\n<script>\nimport BlockEditable from '../../input/BlockEditable.vue';\n\nexport default {\n  name: 'H1',\n  props: ['block'],\n  components: { BlockEditable },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.h1{\n  margin: 0;\n  padding-left: 3px;\n  line-height: 3.2rem;\n}\n</style>\n","<template>\n    <ContentEditable\n        :placeholder=\"placeholder\"\n        :className=\"className\"\n        :id=\"noId ? '' : block.id\"\n        :value=\"block.content.text\"\n        @input=\"inputToBlockContent\"\n        @focus=\"focusToBlock\"\n        @keydown.stop=\"keydownAction\"\n        @paste.stop=\"pasteBlocksAction\"/>\n</template>\n\n<script>\nimport ContentEditable from './ContentEditable.vue';\nimport commonUpdateEffect from '../../views/commonUpdataEffect';\n\nexport default {\n  components: { ContentEditable },\n  name: 'BlockEditable',\n  props: ['block', 'placeholder', 'className', 'noId'],\n  setup(props) {\n    const {\n      editBlockData,\n      setFocusBlock,\n      pasteBlocksAction,\n      checkKeydownInBlockContent,\n    } = commonUpdateEffect();\n\n    const inputToBlockContent = (e) => {\n      const content = { ...props.block.content };\n      content.text = e.target.innerText;\n      content.html = e.target.innerHTML;\n      editBlockData(props.block.id, content, 'content');\n    };\n\n    const keydownAction = (e) => {\n      checkKeydownInBlockContent(props.block, e);\n    };\n\n    const focusToBlock = () => {\n      setFocusBlock(props.block.id);\n    };\n\n    return {\n      inputToBlockContent,\n      keydownAction,\n      focusToBlock,\n      pasteBlocksAction,\n    };\n  },\n};\n</script>\n","import { render } from \"./BlockEditable.vue?vue&type=template&id=4a57ad6a\"\nimport script from \"./BlockEditable.vue?vue&type=script&lang=js\"\nexport * from \"./BlockEditable.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./H1.vue?vue&type=template&id=74d09eaa&scoped=true\"\nimport script from \"./H1.vue?vue&type=script&lang=js\"\nexport * from \"./H1.vue?vue&type=script&lang=js\"\n\nimport \"./H1.vue?vue&type=style&index=0&id=74d09eaa&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-74d09eaa\"\n\nexport default script","<template>\n  <BlockEditable\n          :block=\"block\"\n          :placeholder=\"'請輸入標題'\"\n          :className=\"'h3'\"/>\n</template>\n\n<script>\nimport BlockEditable from '../../input/BlockEditable.vue';\n\nexport default {\n  name: 'H2',\n  props: ['block'],\n  components: { BlockEditable },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.h3{\n  line-height: 2.5rem;\n  padding-left: 3px;\n  margin: 0;\n}\n</style>\n","import { render } from \"./H2.vue?vue&type=template&id=90deed66&scoped=true\"\nimport script from \"./H2.vue?vue&type=script&lang=js\"\nexport * from \"./H2.vue?vue&type=script&lang=js\"\n\nimport \"./H2.vue?vue&type=style&index=0&id=90deed66&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-90deed66\"\n\nexport default script","<template>\n  <BlockEditable\n          :block=\"block\"\n          :placeholder=\"'請輸入標題'\"\n          :className=\"'h4'\"/>\n</template>\n\n<script>\nimport BlockEditable from '../../input/BlockEditable.vue';\n\nexport default {\n  name: 'H3',\n  props: ['block'],\n  components: { BlockEditable },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.h4{\n  margin: 0;\n  line-height: 2rem;\n  font-weight: 700;\n}\n</style>\n","import { render } from \"./H3.vue?vue&type=template&id=29208c9e&scoped=true\"\nimport script from \"./H3.vue?vue&type=script&lang=js\"\nexport * from \"./H3.vue?vue&type=script&lang=js\"\n\nimport \"./H3.vue?vue&type=style&index=0&id=29208c9e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-29208c9e\"\n\nexport default script","<template>\n  <ContentEditable\n      v-if=\"!isShow\"\n      :placeholder=\"'ctrl + v 貼上複製的圖片'\"\n      @paste.stop=\"paste\"\n      @keydown.stop=\"(e) => deleteInput(e, block)\"\n      @focus=\"() => setFocusBlock(block.id)\"/>\n  <ScaleController v-if=\"block.content.url\"\n      :id=\"block.id + 'scale'\"\n      :key=\"block.id + 'scale'\"\n      :min-width=\"200\"\n      :once-compression-width=\"block.content.compressionWidth\"\n      @getCompressionWidth=\"setCompressionWidthInBlock\">\n    <transition>\n      <img :id=\"block.id\" :src=\"block.content.url\" referrerpolicy=\"no-referrer\"/>\n    </transition>\n  </ScaleController>\n</template>\n\n<script>\nimport { onMounted } from 'vue';\nimport ScaleController from '../../ScaleController.vue';\nimport ContentEditable from '../../input/ContentEditable.vue';\nimport { showEffect } from '../../commonEffect';\nimport commonDomEffect from '../../commonDomEffect';\nimport commonUpdateEffect from '../../../views/commonUpdataEffect';\n\nconst imgurClientId = '794a032c7e8e6f4';\n\nexport default {\n  name: 'Img',\n  props: ['block'],\n  components: { ScaleController, ContentEditable },\n  setup(props) {\n    const {\n      editBlockData,\n      deleteInput,\n      setFocusBlock,\n    } = commonUpdateEffect();\n    const { getBlobByClipBoardData } = commonDomEffect();\n    const { isShow, handleShow } = showEffect();\n\n    onMounted(() => {\n      handleShow(props.block.content.url !== '');\n    });\n\n    const setCompressionWidthInBlock = (compressionWidth) => {\n      editBlockData(props.block.id, {\n        url: props.block.content.url,\n        compressionWidth,\n      }, 'content');\n    };\n\n    const uploadImageFileToImgur = async (file) => new Promise((resolve, reject) => {\n      const formData = new FormData();\n      formData.append('image', file);\n\n      fetch('https://api.imgur.com/3/image', {\n        method: 'post',\n        headers: {\n          Authorization: `Client-ID ${imgurClientId}`,\n        },\n        body: formData,\n        referrer: '',\n      }).then((data) => data.text())\n        .then((result) => {\n          const data = JSON.parse(result);\n          resolve(data.data.link);\n        })\n        .catch((err) => reject(err));\n    });\n\n    const paste = async (e) => {\n      const isPlainText = e.clipboardData.types[0] === 'text/plain';\n      if (isPlainText) {\n        editBlockData(props.block.id, {\n          url: e.clipboardData.getData('text/plain'),\n          compressionWidth: 0,\n        }, 'content');\n        handleShow(true);\n        return;\n      }\n\n      try {\n        const blob = await getBlobByClipBoardData(e);\n        const url = await uploadImageFileToImgur(blob);\n\n        editBlockData(props.block.id, {\n          url,\n          compressionWidth: 0,\n        }, 'content');\n        handleShow(true);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return {\n      deleteInput,\n      paste,\n      isShow,\n      handleShow,\n      setFocusBlock,\n      setCompressionWidthInBlock,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../../style/component/_input.scss';\nimg{\n  width: 100%;\n}\n\n</style>\n","<template>\n  <div class=\"scale-controller\" ref=\"scontroller\">\n    <div class=\"scale-area\">\n      <div class=\"scale-compression\"\n            :style=\"{ width: width > 0 ? `${width}px` : 0 }\"></div>\n      <div class=\"scale-object\"\n            :id=\"id\"\n            :style=\"{ height: `${getHeight}` }\">\n        <slot :isActive=\"isActive\"></slot>\n        <transition>\n          <div class=\"scale-handle-left\" v-show=\"isShow\">\n            <div class=\"scale-handle-item\">\n            </div>\n          </div>\n        </transition>\n        <transition>\n          <div class=\"scale-handle-right\" v-show=\"isShow\">\n            <div class=\"scale-handle-item\">\n            </div>\n          </div>\n        </transition>\n      </div>\n      <div class=\"scale-compression\"\n            :style=\"{ width: width > 0 ? `${width}px` : 0 }\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  onMounted,\n  ref,\n} from 'vue';\nimport { showEffect } from './commonEffect';\n\nexport default {\n  name: 'ScaleController',\n  props: [\n    'aspectRatio',\n    'min-width',\n    'max-width',\n    'once-compression-width',\n    'id',\n  ],\n  emits: ['getCompressionWidth'],\n  setup(props, { emit }) {\n    let prevWidth = 0;\n    const offsetX = ref('');\n    const width = ref(0);\n    const isActive = ref('false');\n    const { isShow, handleShow } = showEffect();\n\n    const getHeight = computed(() => {\n      if (!props.aspectRatio) return 'auto';\n\n      const container = document.getElementsByClassName('blockcontent')[0];\n      if (!container) return 'auto';\n\n      const containerBounding = container.getBoundingClientRect();\n      const aspectRatio = props.aspectRatio[0] / props.aspectRatio[1];\n      const height = `${(containerBounding.width - width.value * 2) / aspectRatio}px`;\n      return height;\n    });\n\n    const emitCompressionWidth = () => {\n      emit('getCompressionWidth', width.value);\n    };\n\n    onMounted(() => {\n      const scaleobject = document.getElementById(props.id);\n      prevWidth = props.onceCompressionWidth;\n      width.value = props.onceCompressionWidth;\n      isActive.value = false;\n\n      let rightX = 0;\n      let leftX = 0;\n      let leftOrRightHandle = '';\n\n      const mouseMoveLeft = (e) => {\n        if (isActive.value === false) return;\n        if (leftOrRightHandle === 'right') return;\n        offsetX.value = e.clientX - leftX;\n        width.value = prevWidth + offsetX.value;\n        if (width.value > props.minWidth / 2) {\n          width.value = props.minWidth / 2;\n        }\n        if (width.value < 0) {\n          width.value = 0;\n        }\n        emitCompressionWidth();\n      };\n\n      const mouseMoveRight = (e) => {\n        if (isActive.value === false) return;\n        if (leftOrRightHandle === 'left') return;\n        offsetX.value = rightX - e.clientX;\n        width.value = prevWidth + offsetX.value;\n        if (width.value > props.minWidth / 2) {\n          width.value = props.minWidth / 2;\n        }\n        if (width.value < 0) {\n          width.value = 0;\n        }\n        emitCompressionWidth();\n      };\n\n      const mouseUp = () => {\n        prevWidth = width.value;\n        isActive.value = false;\n      };\n\n      const mouseDownLeft = (e) => {\n        e.preventDefault();\n        isActive.value = true;\n        offsetX.value = 0;\n        leftX = e.clientX;\n        leftOrRightHandle = 'left';\n      };\n\n      const mouseDownRight = (e) => {\n        e.preventDefault();\n        isActive.value = true;\n        offsetX.value = 0;\n        rightX = e.clientX;\n        leftOrRightHandle = 'right';\n      };\n\n      scaleobject.addEventListener('mouseenter', () => {\n        handleShow(true);\n      });\n\n      scaleobject.addEventListener('mouseleave', () => {\n        handleShow(false);\n      });\n\n      scaleobject.querySelector('.scale-handle-left').addEventListener('mousedown', mouseDownLeft);\n      scaleobject.querySelector('.scale-handle-right').addEventListener('mousedown', mouseDownRight);\n      document.addEventListener('mousemove', mouseMoveLeft);\n      document.addEventListener('mousemove', mouseMoveRight);\n      document.addEventListener('mouseup', mouseUp);\n    });\n\n    return {\n      offsetX,\n      isShow,\n      getHeight,\n      prevWidth,\n      width,\n      isActive,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$frameX: .8rem;\n$frameY: 50%;\n.scale{\n  &-controller{\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  &-compression{\n    transition: width .3s ease-out;\n  }\n  &-area{\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  &-object{\n    flex: 1;\n    position: relative;\n    width: auto;\n    transition: height .3s ease-out;\n  }\n  &-handle{\n    &-right{\n      position: absolute;\n      top: $frameY;\n      right: $frameX;\n      transform: translateY(-50%);\n    }\n    &-left{\n      position: absolute;\n      top: $frameY;\n      left: $frameX;\n      transform: translateY(-50%);\n    }\n    &-item{\n      width: .4rem;\n      height: 3rem;\n      border: .01rem solid #FFF;\n      opacity: .7;\n      border-radius: .2rem;\n      cursor: col-resize;\n    }\n  }\n}\n</style>\n","import { render } from \"./ScaleController.vue?vue&type=template&id=4dbd9100&scoped=true\"\nimport script from \"./ScaleController.vue?vue&type=script&lang=js\"\nexport * from \"./ScaleController.vue?vue&type=script&lang=js\"\n\nimport \"./ScaleController.vue?vue&type=style&index=0&id=4dbd9100&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4dbd9100\"\n\nexport default script","import { render } from \"./Img.vue?vue&type=template&id=470ff68e&scoped=true\"\nimport script from \"./Img.vue?vue&type=script&lang=js\"\nexport * from \"./Img.vue?vue&type=script&lang=js\"\n\nimport \"./Img.vue?vue&type=style&index=0&id=470ff68e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-470ff68e\"\n\nexport default script","<template>\n  <div class=\"d-flex\"\n      type=\"button\"\n      :data-pageid=\"block.content\"\n      :id=block.id\n      @click=\"goCurrentPage(block.content)\">\n    <div class=\"prefix\" :data-pageid=\"block.content\">\n      <font-awesome-icon :icon=\"['far', 'file']\"/>\n    </div>\n    <div class=\"p\" :data-pageid=\"block.content\">\n      {{ targetPage.name }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport commonUpdateEffect from '../../views/commonUpdataEffect';\n\nexport default {\n  name: 'P',\n  props: ['block'],\n  setup(props) {\n    const { goCurrentPage } = commonUpdateEffect();\n    const { block } = toRefs(props);\n\n    const store = useStore();\n    const targetPage = computed(() => store.getters['pages/choosePage'](block.value.content));\n    return {\n      targetPage, goCurrentPage,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ninput{\n  display: block;\n}\n.prefix{\n  color: #777;\n}\n</style>\n","import { render } from \"./Page.vue?vue&type=template&id=75ce77a2&scoped=true\"\nimport script from \"./Page.vue?vue&type=script&lang=js\"\nexport * from \"./Page.vue?vue&type=script&lang=js\"\n\nimport \"./Page.vue?vue&type=style&index=0&id=75ce77a2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-75ce77a2\"\n\nexport default script","<template>\n  <ContentEditable\n      v-if=\"block.content.url === ''\"\n      :placeholder=\"'請貼上影片(youtube)網址'\"\n      @keydown.stop=\"(e) => deleteInput(e, block)\"\n      @input=\"(e) => checkURL(e, block)\"/>\n  <ScaleController v-if=\"block.content.url !== ''\"\n        :id=\"block.id + 'scale'\"\n        :min-width=\"200\"\n        :aspect-ratio=\"[16, 9]\"\n        :once-compression-width=\"block.content.compressionWidth\"\n        @getCompressionWidth=\"setCompressionWidthInBlock\">\n    <template #default=\"{ isActive }\">\n      <iframe\n          :id=\"block.id\"\n          :src=\"block.content.url\" frameborder=\"0\"\n          :style=\"{ 'pointer-events': isActive || !isIframeActive ? 'none' : 'auto' }\"\n          allow=\"accelerometer; autoplay;\n          clipboard-write; encrypted-media; gyroscope;\n          picture-in-picture\" allowfullscreen></iframe>\n    </template>\n  </ScaleController>\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport ScaleController from '../../ScaleController.vue';\nimport ContentEditable from '../../input/ContentEditable.vue';\nimport commonUpdateEffect from '../../../views/commonUpdataEffect';\nimport commonBlockEffect from '../../commonBlockEffect';\n\nexport default {\n  name: 'Video',\n  props: ['block'],\n  components: { ScaleController, ContentEditable },\n  setup(props) {\n    // 可能url\n    // youtube example\n    // https://www.youtube.com/watch?v=au1z7L0TK5Q&ab_channel=%EB%8F%84%EB%AA%A8%EB%B0%B0%EC%B0%8C\n    // https://www.youtube.com/watch?v=SBQprWeOx8g&ab_channel=RedBuster\n    // https://www.youtube.com/embed/Ni7YTBYLNpA\n    const store = useStore();\n    const isIframeActive = computed(() => store.state.isIframeActive);\n\n    const { getBlockWidthById } = commonBlockEffect();\n    const { editBlockData, deleteInput } = commonUpdateEffect();\n\n    const setCompressionWidthInBlock = (compressionWidth) => {\n      editBlockData(props.block.id, {\n        url: props.block.content.url,\n        compressionWidth,\n      }, 'content');\n    };\n\n    const includeStrings = [\n      'youtu.be/',\n      'youtube.com/embed/',\n      'youtube.com/watch?v=',\n    ];\n\n    const checkURL = (e, block) => {\n      const originalUrl = e.target.innerText;\n\n      for (let i = 0; i < includeStrings.length; i += 1) {\n        if (originalUrl.includes(includeStrings[i])) {\n          const videoId = originalUrl.split(includeStrings[i])[1].slice(0, 11);\n          editBlockData(block.id, {\n            url: `https://www.youtube-nocookie.com/embed/${videoId}`,\n            compressionWidth: 0,\n          }, 'content');\n          return;\n        }\n      }\n    };\n\n    return {\n      isIframeActive,\n      deleteInput,\n      checkURL,\n      getBlockWidthById,\n      setCompressionWidthInBlock,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../../style/component/_input.scss';\n\niframe{\n  width: 100%;\n  height: 100%;\n  pointer-events: none; // 影響可不可以在iframe正常使用mouse事件\n}\n</style>\n","import { render } from \"./Video.vue?vue&type=template&id=e649c350&scoped=true\"\nimport script from \"./Video.vue?vue&type=script&lang=js\"\nexport * from \"./Video.vue?vue&type=script&lang=js\"\n\nimport \"./Video.vue?vue&type=style&index=0&id=e649c350&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e649c350\"\n\nexport default script","<template>\n  <BlockEditable\n      :block=\"block\"\n      :placeholder=\"'請輸入文字'\"\n      :className=\"'p'\"/>\n</template>\n\n<script>\nimport BlockEditable from '../../input/BlockEditable.vue';\n\nexport default {\n  name: 'P',\n  props: ['block'],\n  components: { BlockEditable },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$p-height: 1.8rem;\n.p {\n  line-height: $p-height;\n  overflow: auto;\n  margin: 0;\n  padding-left: .1rem;\n}\n</style>\n","import { render } from \"./P.vue?vue&type=template&id=789de821&scoped=true\"\nimport script from \"./P.vue?vue&type=script&lang=js\"\nexport * from \"./P.vue?vue&type=script&lang=js\"\n\nimport \"./P.vue?vue&type=style&index=0&id=789de821&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-789de821\"\n\nexport default script","<template>\n  <div class=\"d-flex\">\n    <input type=\"checkbox\"\n            class=\"prefix m-auto\"\n            :checked=\"block.content.isChecked\"\n            @input=\"setTodoItemData($event, block)\">\n    <P :block=\"block\" />\n  </div>\n</template>\n\n<script>\nimport P from './textType/P.vue';\nimport commonUpdateEffect from '../../views/commonUpdataEffect';\n\nexport default {\n  name: 'TodoItem',\n  props: ['block'],\n  components: { P },\n  setup() {\n    const { editBlockData } = commonUpdateEffect();\n\n    const setTodoItemData = (e, block) => {\n      editBlockData(block.id, {\n        text: block.content.text,\n        html: block.content.html,\n        isChecked: e.target.checked,\n      }, 'content');\n    };\n\n    return { setTodoItemData };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { render } from \"./TodoItem.vue?vue&type=template&id=50ba80ec&scoped=true\"\nimport script from \"./TodoItem.vue?vue&type=script&lang=js\"\nexport * from \"./TodoItem.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-50ba80ec\"\n\nexport default script","<template>\n  <div class=\"d-flex\" :style=\"{ 'margin-left': `${block.content.indent*1.5}rem`}\">\n    <div class=\"prefix\">{{ index + 1 }}. </div>\n    <P :block=\"block\" @keydown.tab=\"handleIndent($event, block)\"/>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport P from '../textType/P.vue';\nimport useListBlockEffect from './useListBlockEffect';\n\nexport default {\n  name: 'NumberItem',\n  props: ['block'],\n  component: {\n    P,\n  },\n  setup(props) {\n    const {\n      isSameType,\n      isSameIndent,\n      getPrevBlockById,\n      handleIndent,\n    } = useListBlockEffect();\n\n    const index = computed(() => {\n      let number = 0;\n      let currentBlock = { ...props.block };\n      while (isSameType(getPrevBlockById(currentBlock.id).value, currentBlock)\n        && isSameIndent(getPrevBlockById(currentBlock.id).value, currentBlock)) {\n        number += 1;\n        currentBlock = getPrevBlockById(currentBlock.id).value;\n      }\n      return number;\n    });\n\n    return {\n      index,\n      handleIndent,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { computed } from 'vue';\nimport { useStore } from 'vuex';\n\nconst useListBlockEffect = () => {\n  const store = useStore();\n\n  const getPrevBlockById = (id) => computed(() => store.getters['blocks/getPrevBlockByid'](id));\n\n  const isSameType = (block, block2) => block?.type === block2?.type;\n\n  const isSameIndent = (blockA, blockB) => blockA?.content?.indent\n    === blockB?.content?.indent;\n\n  const isAIndentNoMoreThanB = (blockA, blockB) => blockA.content?.indent\n    <= blockB.content?.indent;\n\n  const addIndent = (block) => {\n    const prevBlock = getPrevBlockById(block.id).value;\n    if (!prevBlock) return;\n    if (!isSameType(block, prevBlock)) return;\n\n    if (isAIndentNoMoreThanB(block, prevBlock)) {\n      const replaceContent = { ...block.content };\n      replaceContent.indent += 1;\n\n      store.commit('blocks/editBlockData', {\n        id: block.id,\n        key: 'content',\n        value: replaceContent,\n      });\n    }\n  };\n\n  const subIndent = (block) => {\n    if (block.content.indent > 0) {\n      const replaceContent = { ...block.content };\n      replaceContent.indent -= 1;\n\n      store.commit('blocks/editBlockData', {\n        id: block.id,\n        key: 'content',\n        value: replaceContent,\n      });\n    }\n  };\n\n  const handleIndent = (e, block) => {\n    e.preventDefault();\n    if (e.shiftKey) {\n      subIndent(block);\n    } else {\n      addIndent(block);\n    }\n  };\n\n  return {\n    isSameType,\n    isSameIndent,\n    getPrevBlockById,\n    isAIndentNoMoreThanB,\n    handleIndent,\n  };\n};\n\nexport default useListBlockEffect;\n","import { render } from \"./NumberItem.vue?vue&type=template&id=972473ec&scoped=true\"\nimport script from \"./NumberItem.vue?vue&type=script&lang=js\"\nexport * from \"./NumberItem.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-972473ec\"\n\nexport default script","<template>\n  <div class=\"d-flex\" :style=\"{ 'margin-left': `${block.content.indent*1.5}rem`}\">\n    <div class=\"prefix\">\n      <div class=\"bullet\">⦁</div>\n    </div>\n    <P :block=\"block\" @keydown.tab=\"handleIndent($event, block)\"/>\n  </div>\n</template>\n\n<script>\nimport P from '../textType/P.vue';\nimport useListBlockEffect from './useListBlockEffect';\n\nexport default {\n  name: 'NumberItem',\n  props: ['block'],\n  component: {\n    P,\n  },\n  setup() {\n    const {\n      handleIndent,\n    } = useListBlockEffect();\n\n    return {\n      handleIndent,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.bullet{\n  padding-left: .1rem;\n}\n</style>\n","import { render } from \"./BulletItem.vue?vue&type=template&id=706ce222&scoped=true\"\nimport script from \"./BulletItem.vue?vue&type=script&lang=js\"\nexport * from \"./BulletItem.vue?vue&type=script&lang=js\"\n\nimport \"./BulletItem.vue?vue&type=style&index=0&id=706ce222&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-706ce222\"\n\nexport default script","<template>\n  <div class=\"dividing-content\">\n    <div class=\"dividing-line\"\n\n        :id=\"block.id\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DividingLine',\n  props: ['block'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dividing{\n  &-content{\n    display: flex;\n    align-items: center;\n    height: 1rem;\n  }\n  &-line{\n    height: .05rem;\n    width: 100%;\n    background: #e7e6e1;\n  }\n}\n\n</style>\n","import { render } from \"./DividingLine.vue?vue&type=template&id=2a45146e&scoped=true\"\nimport script from \"./DividingLine.vue?vue&type=script&lang=js\"\nexport * from \"./DividingLine.vue?vue&type=script&lang=js\"\n\nimport \"./DividingLine.vue?vue&type=style&index=0&id=2a45146e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2a45146e\"\n\nexport default script","<template>\n  <div class=\"d-flex\">\n    <div class=\"prefix toggle-button\" @click=\"toggleShowAndUpdateHiddenBlocks\" type=\"button\">\n      <font-awesome-icon :icon=\"['fas', iconName]\" :key=\"iconName\" size=\"1x\"/>\n    </div>\n    <P :block=\"block\"/>\n  </div>\n</template>\n\n<script>\nimport { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport P from './textType/P.vue';\nimport { showEffect } from '../commonEffect';\n\nexport default {\n  name: 'ToggleList',\n  props: ['block'],\n  components: { P },\n  setup(props) {\n    const store = useStore();\n    const { isShow, toggleShow, handleShow } = showEffect();\n    const iconName = computed(() => (isShow.value ? 'caret-down' : 'caret-right'));\n\n    const toggleShowAndUpdateHiddenBlocks = () => {\n      toggleShow();\n      const childrenBlocksIds = props.block.blocks;\n      if (isShow.value) {\n        if (childrenBlocksIds.length === 0) return;\n        store.commit('blocks/deleteIdsToHiddenBlocksIds', [...childrenBlocksIds]);\n      } else {\n        store.commit('blocks/addIdsToHiddenBlocksIds', [...childrenBlocksIds]);\n      }\n    };\n\n    onMounted(() => {\n      store.dispatch('blocks/addBlockInside', props.block);\n      store.commit('blocks/addIdsToHiddenBlocksIds', [...props.block.blocks]);\n      handleShow(false);\n    });\n\n    return {\n      isShow,\n      toggleShow,\n      iconName,\n      toggleShowAndUpdateHiddenBlocks,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.toggle-button{\n  &:hover{\n    color: #777;\n  }\n}\n</style>\n","import { render } from \"./ToggleList.vue?vue&type=template&id=7128d1dc&scoped=true\"\nimport script from \"./ToggleList.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleList.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleList.vue?vue&type=style&index=0&id=7128d1dc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7128d1dc\"\n\nexport default script","<template>\n  <div class=\"code-container\" :style=\"{ height: `${editorHeight}px` }\">\n    <pre class='language-javascript'\n        id=\"code-editor\"\n        :scrollLeft=\"scrollLeft\"\n        :style=\"{ height: `${editorHeight}px`,  }\"\n        ><code class='language-javascript' v-text=\"codeText\"></code>\n    </pre>\n    <ContentEditable\n      :placeholder=\"placeholderInfo\"\n      :id=\"block.id\"\n      :className=\"'editor'\"\n      :value=\"block.content.text\"\n      @input=\"editCodeText\"\n      @keydown=\"tabAction\"\n      @paste=\"pasteAction\"\n      @focus=\"() => setFocusBlock(block.id)\"\n      @scroll=\"setScrollLeft\"/>\n  </div>\n</template>\n\n<script>\nimport Prism from 'prismjs';\nimport '../../style/prism.css';\nimport {\n  nextTick,\n  onMounted,\n  ref,\n  watch,\n} from 'vue';\nimport ContentEditable from '../input/ContentEditable.vue';\nimport codeEditorEffect from '../codeEditorEffect';\nimport commonUpdateEffect from '../../views/commonUpdataEffect';\n\nexport default {\n  name: 'CodeEditor',\n  props: ['block'],\n  components: { ContentEditable },\n  setup(props) {\n    const placeholderInfo = '輸入或貼上code...\\ntab鍵往前縮排、shift + tab往後縮排\\n搭配反白文字範圍可以多行縮排';\n\n    const {\n      editBlockData,\n      setFocusBlock,\n    } = commonUpdateEffect();\n\n    const {\n      handleIndent,\n      handlePaste,\n      generateTextAndWrapNodes,\n    } = codeEditorEffect();\n\n    const scrollLeft = ref('');\n    const setScrollLeft = (e) => {\n      scrollLeft.value = e.target.scrollLeft;\n    };\n\n    const editorHeight = ref(0);\n    const setEditorHeight = (height) => {\n      editorHeight.value = height;\n    };\n\n    const codeText = ref('');\n    const setCodeText = (text) => {\n      codeText.value = text;\n    };\n\n    const updateCodeTextAndEditorHeight = (container) => {\n      nextTick(() => {\n        setCodeText(container.innerText);\n        setEditorHeight(container.getBoundingClientRect().height);\n      });\n    };\n\n    const tabAction = (e) => {\n      if (e.key !== 'Tab') return;\n      handleIndent(e);\n      updateCodeTextAndEditorHeight(e.currentTarget);\n    };\n\n    const pasteAction = (e) => {\n      handlePaste(e);\n      updateCodeTextAndEditorHeight(e.currentTarget);\n    };\n\n    const changeToMultiNode = (container) => {\n      if (container.childNodes.length > 1) return;\n      const fragment = generateTextAndWrapNodes(container.innerText);\n      container.replaceChildren();\n      container.appendChild(fragment);\n    };\n\n    onMounted(() => {\n      const editor = document.getElementById(props.block.id);\n      changeToMultiNode(editor);\n\n      updateCodeTextAndEditorHeight(editor);\n    });\n\n    const editCodeText = (e) => {\n      const container = e.target;\n      updateCodeTextAndEditorHeight(container);\n    };\n\n    watch(codeText, (curr) => {\n      nextTick(() => {\n        Prism.highlightAll();\n        editBlockData(props.block.id, {\n          text: curr,\n          html: curr,\n        }, 'content');\n      });\n    });\n\n    return {\n      placeholderInfo,\n      scrollLeft,\n      setScrollLeft,\n      editorHeight,\n      tabAction,\n      pasteAction,\n      handlePaste,\n      codeText,\n      editCodeText,\n      setFocusBlock,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap');\n\n$code-font: 'Courier New', Courier, monospace;\n// pre和code標籤都要放同樣的字體\n.language-javascript {\n  margin: 0;\n  font-family:$code-font;\n}\n\n.code-container {\n  position: relative;\n}\n\n.editor {\n  z-index: 1;\n  font-family:$code-font;\n\n  color: rgba($color: #000000, $alpha: 0.3);\n  color: transparent;\n  background-color: transparent;\n  caret-color: black;\n\n  overflow: auto;\n}\n\n#code-editor {\n  z-index: 0;\n  overflow: hidden !important;\n  code {\n    overflow: auto;\n  }\n}\n\n.editor, #code-editor {\n  padding: 1rem;\n  width: 100%;\n\n  white-space: pre;\n\n  font-size: 1rem;\n  line-height: 1.5rem;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  min-height: 100px;\n}\n\n</style>\n","import { nextTick } from 'vue';\n\nconst addWhitespaceTextNodeIfNoNodes = (container) => {\n  if (!container.childNodes.length) {\n    const initText = document.createTextNode('');\n    container.appendChild(initText);\n  }\n};\n\n// https://www.javascripttutorial.net/javascript-dom/javascript-insertafter/\nconst insertAfter = (newNode, oldNode) => {\n  oldNode.parentNode.insertBefore(newNode, oldNode.nextSibling);\n};\n\nconst isSingleLine = (text) => !text.includes('\\r\\n');\n\nconst notLessThanZero = (number) => {\n  if (number >= 0) return number;\n  return 0;\n};\n\nconst generateTextAndWrapNodes = (text) => {\n  const generateWrapNode = () => document.createTextNode('\\n');\n\n  let lineSplits;\n  if (text.includes('\\r')) {\n    lineSplits = text.split('\\r\\n');\n  } else {\n    lineSplits = text.split('\\n');\n  }\n\n  const newFragment = document.createDocumentFragment();\n\n  const lastIndex = lineSplits.length - 1;\n\n  for (let i = 0; i < lineSplits.length; i += 1) {\n    const textNode = document.createTextNode(lineSplits[i]);\n    newFragment.appendChild(textNode);\n\n    if (i < lastIndex) newFragment.appendChild(generateWrapNode());\n  }\n\n  return newFragment;\n};\n\nconst codeEditorEffect = () => {\n  const handleIndent = (e) => {\n    if (e.key !== 'Tab') return;\n\n    e.preventDefault();\n\n    const inputContainer = e.currentTarget;\n    addWhitespaceTextNodeIfNoNodes(inputContainer);\n\n    const INDENT = '  ';\n\n    const sel = window.getSelection();\n    const range = sel.getRangeAt(0).cloneRange();\n    const {\n      startContainer,\n      startOffset,\n      endContainer,\n      endOffset,\n    } = range;\n\n    const filterSelectedPlainTextNodes = () => {\n      const getIndex = (node) => Array.prototype.indexOf.call(inputContainer.childNodes, node);\n      const startIndex = getIndex(startContainer);\n      const endIndex = getIndex(endContainer);\n\n      const isNodeInSelection = (index) => index >= startIndex && index <= endIndex;\n      const isPlainTextNode = (node) => node.textContent !== '\\n';\n\n      const shouldFilter = (node, index) => isPlainTextNode(node) && isNodeInSelection(index);\n\n      return Array.prototype.filter.call(inputContainer.childNodes, shouldFilter);\n    };\n\n    const getWhitespaceLengthFromBeginnning = (text) => {\n      let tmpText = text;\n      let whitespaceLength = 0;\n      while (tmpText.startsWith(' ')) {\n        whitespaceLength += 1;\n        tmpText = tmpText.substring(1);\n      }\n      return whitespaceLength;\n    };\n\n    const moveBackwardDistance = (node) => {\n      const text = node.textContent;\n      const whitespaceLength = getWhitespaceLengthFromBeginnning(text);\n\n      if (whitespaceLength >= INDENT.length) return INDENT.length;\n      return whitespaceLength;\n    };\n\n    const generateMoveForwardNodes = (nodes) => Array.prototype.map.call(nodes,\n      (node) => document.createTextNode(INDENT + node.textContent));\n\n    const generateMoveBackwardNodes = (nodes) => Array.prototype.map.call(nodes, (node) => {\n      const whitespaceLength = moveBackwardDistance(node);\n      return document.createTextNode(node.textContent.substring(whitespaceLength));\n    });\n\n    const increaseIndent = () => {\n      const text = startContainer.textContent;\n      const newText = text.substring(0, startOffset) + INDENT + text.substring(startOffset);\n      const newTextNode = document.createTextNode(newText);\n\n      inputContainer.replaceChild(newTextNode, startContainer);\n\n      sel.setBaseAndExtent(newTextNode, startOffset + INDENT.length,\n        newTextNode, startOffset + INDENT.length);\n    };\n\n    const decreaseIndent = () => {\n      const whitespaceLength = moveBackwardDistance(startContainer);\n\n      const text = startContainer.textContent;\n      const newTextNode = document.createTextNode(text.substring(whitespaceLength));\n\n      inputContainer.replaceChild(newTextNode, startContainer);\n\n      const offset = notLessThanZero(startOffset - whitespaceLength);\n      sel.setBaseAndExtent(newTextNode, offset, newTextNode, offset);\n    };\n\n    const increaseIndentInSelection = () => {\n      const selectedPlainTextNodes = filterSelectedPlainTextNodes();\n      const newNodes = generateMoveForwardNodes(selectedPlainTextNodes);\n\n      const newStartOffset = startOffset + INDENT.length;\n      const newEndOffset = endOffset + INDENT.length;\n\n      selectedPlainTextNodes.forEach((node, index) => {\n        inputContainer.replaceChild(newNodes[index], node);\n      });\n\n      sel.setBaseAndExtent(newNodes[0], newStartOffset,\n        newNodes[newNodes.length - 1], newEndOffset);\n    };\n\n    const decreaseIndentInSelection = () => {\n      const filterNodes = filterSelectedPlainTextNodes();\n\n      const newNodes = generateMoveBackwardNodes(filterNodes);\n\n      const newStartOffset = notLessThanZero(startOffset\n        - moveBackwardDistance(filterNodes[0]));\n      const newEndOffset = notLessThanZero(endOffset\n        - moveBackwardDistance(filterNodes[filterNodes.length - 1]));\n\n      filterNodes.forEach((node, index) => inputContainer.replaceChild(newNodes[index], node));\n\n      sel.setBaseAndExtent(newNodes[0], newStartOffset,\n        newNodes[newNodes.length - 1], newEndOffset);\n    };\n\n    const execute = () => {\n      const actions = new Map([\n        [{ isCollapse: true, hasShiftKey: true }, decreaseIndent],\n        [{ isCollapse: true, hasShiftKey: false }, increaseIndent],\n        [{ isCollapse: false, hasShiftKey: true }, decreaseIndentInSelection],\n        [{ isCollapse: false, hasShiftKey: false }, increaseIndentInSelection],\n      ]);\n\n      const selectAction = [...actions].find(([key]) => key.isCollapse === range.collapsed\n        && key.hasShiftKey === e.shiftKey);\n      selectAction[1]();\n    };\n\n    execute();\n  };\n\n  const handlePaste = (e) => {\n    addWhitespaceTextNodeIfNoNodes(e.currentTarget);\n\n    const text = e.clipboardData.getData('Text');\n    if (!text) return;\n    if (isSingleLine(text)) return;\n\n    e.preventDefault();\n\n    nextTick(() => {\n      const { focusNode } = window.getSelection();\n      const newNodes = generateTextAndWrapNodes(text);\n\n      if (focusNode === e.currentTarget) {\n        e.currentTarget.appendChild(newNodes);\n        return;\n      }\n\n      if (focusNode.textContent === '\\n') {\n        insertAfter(newNodes, focusNode);\n      } else {\n        const wrapNode = document.createTextNode('\\n');\n        insertAfter(wrapNode, focusNode);\n        insertAfter(newNodes, wrapNode);\n      }\n    });\n  };\n\n  return {\n    handleIndent,\n    handlePaste,\n    generateTextAndWrapNodes,\n  };\n};\n\nexport default codeEditorEffect;\n","import { render } from \"./CodeEditor.vue?vue&type=template&id=710fe8cc&scoped=true\"\nimport script from \"./CodeEditor.vue?vue&type=script&lang=js\"\nexport * from \"./CodeEditor.vue?vue&type=script&lang=js\"\n\nimport \"./CodeEditor.vue?vue&type=style&index=0&id=710fe8cc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-710fe8cc\"\n\nexport default script","<template>\n  <div class=\"quote\">\n    <BlockEditable\n            :block=\"block\"\n            :placeholder=\"'請輸入引言'\"\n            :className=\"'h5'\"/>\n  </div>\n</template>\n\n<script>\nimport BlockEditable from '../../input/BlockEditable.vue';\n\nexport default {\n  name: 'Quote',\n  props: ['block'],\n  components: { BlockEditable },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.quote{\n  border-left: .4rem solid #8d8a8d;\n  padding-top: .3rem;\n  padding-bottom: .3rem;\n  padding-left: .7rem;;\n  margin: 0;\n}\n.h5{\n  margin: 0;\n  line-height: 2rem;\n  font-weight: 400;\n  color: #383638;\n}\n</style>\n","import { render } from \"./Quote.vue?vue&type=template&id=4df6ac71&scoped=true\"\nimport script from \"./Quote.vue?vue&type=script&lang=js\"\nexport * from \"./Quote.vue?vue&type=script&lang=js\"\n\nimport \"./Quote.vue?vue&type=style&index=0&id=4df6ac71&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4df6ac71\"\n\nexport default script","<template>\n  <ContentEditable\n      v-if=\"!block.content.url\"\n      :placeholder=\"'ctrl + v 貼上網址'\"\n      @paste.stop=\"pasteLinkAction\"\n      @keydown.stop=\"(e) => deleteInput(e, block)\"\n      @focus=\"() => setFocusBlock(block.id)\"/>\n  <div class=\"lp-container\" v-if=\"block.content.url\" @click=\"openInNewTab(block.content.url)\">\n    <div class=\"lp-img\" :style=\"{ 'background-image': `url(${block.content.image})` }\"></div>\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h6 class=\"card-title\">{{ block.content.title }}</h6>\n        <p class=\"card-text\">{{ block.content.description }}</p>\n        <p class=\"card-url\">{{ block.content.url }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ContentEditable from '../input/ContentEditable.vue';\nimport commonUpdateEffect from '../../views/commonUpdataEffect';\n\nexport default {\n  name: 'LinkPreview',\n  props: ['block'],\n  components: {\n    ContentEditable,\n  },\n  setup(props) {\n    const {\n      editBlockData,\n      deleteInput,\n      setFocusBlock,\n    } = commonUpdateEffect();\n\n    const linkPreviewAPI = 'https://api.linkpreview.net';\n    const MyLinkPreviewAPIKey = 'a1f90b74d8c73d2e2ca415e33bc74ae7';\n\n    const getLinkData = async (link) => {\n      const data = {\n        key: MyLinkPreviewAPIKey,\n        q: link,\n      };\n\n      try {\n        const response = await fetch(linkPreviewAPI, {\n          method: 'POST',\n          mode: 'cors',\n          body: JSON.stringify(data),\n        });\n        const result = await response.json();\n        return result;\n      } catch (error) {\n        console.log(error);\n        return null;\n      }\n    };\n\n    const pasteLinkAction = async () => {\n      try {\n        const text = await navigator.clipboard.readText();\n        editBlockData(props.block.id, {\n          title: '',\n          description: '',\n          image: '',\n          url: text,\n        }, 'content');\n\n        const data = await getLinkData(text);\n        editBlockData(props.block.id, {\n          title: data.title || '無法顯示',\n          description: data.description || '',\n          image: data.image || '',\n          url: data.url || text,\n        }, 'content');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const openInNewTab = (link) => {\n      window.open(link, '_blank');\n    };\n\n    return {\n      pasteLinkAction,\n      deleteInput,\n      setFocusBlock,\n      openInNewTab,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.lp {\n  &-container {\n    width: 100%;\n    display: flex;\n    border: 1px solid rgb(218, 218, 218);\n    border-radius: 5px;\n\n    :hover {\n      background-color: rgb(238, 238, 238);\n      cursor: pointer;\n    }\n    .card {\n      flex: 1;\n      border: none;\n      &-title {\n        font-weight: 700;\n        height: 16px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n      &-text {\n        height: 50px;\n        overflow: hidden;\n        color: rgba($color: #626262, $alpha: .7);\n        font-size: .6em;\n        margin-bottom: 0;\n      }\n      &-url {\n        margin-top: .5rem;\n        font-size: .6em;\n        height: 18px;\n        margin-bottom: 0;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n  &-img {\n    flex-basis: 200px;\n    height: inherit;\n    border-top-left-radius: 5px;\n    border-bottom-left-radius: 5px;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center;\n\n    transition: display .5s ease-in-out;\n    @media (max-width: 490px ) {\n      display: none;\n    }\n  }\n}\n\n</style>\n","import { render } from \"./LinkPreview.vue?vue&type=template&id=64bdfe5f&scoped=true\"\nimport script from \"./LinkPreview.vue?vue&type=script&lang=js\"\nexport * from \"./LinkPreview.vue?vue&type=script&lang=js\"\n\nimport \"./LinkPreview.vue?vue&type=style&index=0&id=64bdfe5f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-64bdfe5f\"\n\nexport default script","<template>\n  <router-view/>\n</template>\n\n<script>\nimport SecureLS from 'secure-ls';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { checkAuthState } from './store/firebaseAuth';\nimport firstPageData from './views/workspace/firstPageData';\nimport {\n  setUserDataToFS,\n  updateStoreToFS,\n  getUserDataByEmailFromFS,\n} from './store/firestore';\n\nexport default {\n  name: 'App',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    const ls = new SecureLS();\n\n    const routeToFrontPage = () => {\n      if (route.path === '/signin' || route.path === '/register') {\n        console.log('跳到首頁');\n        router.push('/');\n      }\n    };\n\n    const setUserDataToLS = (data) => {\n      Object.keys(data).forEach((key) => {\n        ls.set(key, data[key]);\n      });\n    };\n\n    const setUserDataToStore = (data) => {\n      Object.keys(data).forEach((key) => {\n        const value = data[key] || [];\n        store.commit('setStoreData', {\n          data: value,\n          name: key,\n        });\n      });\n    };\n\n    const isUserDataInLS = (user) => {\n      const userInfo = ls.get('userInfo');\n      if (userInfo && userInfo?.email === user.email) return true;\n      return false;\n    };\n\n    const isUserDataInFS = async (user) => {\n      try {\n        const result = await getUserDataByEmailFromFS(user.email);\n        if (result) return true;\n        return false;\n      } catch (error) {\n        console.log(error);\n        return false;\n      }\n    };\n\n    const signinProcedure = async (user) => {\n      const isUserExist = await isUserDataInFS(user);\n      if (!isUserExist) {\n        const initUserData = {\n          userInfo: {\n            email: user.email,\n            headshot: user.photoURL,\n            name: user.displayName,\n            recentPageIds: [],\n          },\n          pages: [firstPageData.page],\n          blocks: firstPageData.blocks,\n        };\n        await setUserDataToFS(initUserData);\n        setUserDataToLS(initUserData);\n        setUserDataToStore(initUserData);\n        routeToFrontPage();\n        return;\n      }\n\n      if (isUserDataInLS(user)) {\n        setUserDataToStore({\n          pages: ls.get('pages'),\n          blocks: ls.get('blocks'),\n          userInfo: ls.get('userInfo'),\n        });\n        routeToFrontPage();\n        return;\n      }\n\n      const result = await getUserDataByEmailFromFS(user.email);\n      setUserDataToLS(result);\n      setUserDataToStore(result);\n      routeToFrontPage();\n    };\n\n    const signoutProcedure = async () => {\n      if (ls.get('userInfo')) {\n        try {\n          await updateStoreToFS();\n        } catch (error) {\n          console.log(error);\n        }\n        store.dispatch('resetStoreData');\n        ls.removeAll();\n      }\n      router.push('/signin');\n    };\n\n    checkAuthState((user) => {\n      const isSignInOrOut = user ? 'signin' : 'signout';\n\n      const actions = {\n        signin: () => signinProcedure(user),\n        signout: signoutProcedure, // 一律在刪除localstorage裡面的user資料前，先上傳到FS\n      };\n\n      actions[isSignInOrOut]();\n    });\n  },\n};\n</script>\n","import { render } from \"./App.vue?vue&type=template&id=28383a2c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router';\nimport SecureLS from 'secure-ls';\n\nconst ls = new SecureLS();\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    meta: { requiresAuth: true },\n    component: () => import('../views/Home.vue'),\n  },\n  {\n    path: '/userinfo',\n    name: 'UserInfo',\n    component: () => import('../views/verification/UserInfo.vue'),\n  },\n  {\n    path: '/signin',\n    name: 'SignIn',\n    component: () => import('../views/verification/SignIn.vue'),\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('../views/verification/Register.vue'),\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => { // 每次跳轉頁面執行\n  const { name } = to;\n\n  if (ls.get('userInfo')) {\n    console.log('已登入');\n    if (name === 'SignIn' || name === 'Register') {\n      next({ name: 'Home' });\n    } else {\n      next();\n    }\n  } else {\n    console.log('未登入');\n    if (name === 'SignIn' || name === 'Register') {\n      next();\n    } else {\n      next({ name: 'SignIn' });\n    }\n  }\n});\n\nexport default router;\n","import { createApp } from 'vue';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faGooglePlusSquare,\n  faFacebookSquare,\n  faTwitterSquare,\n} from '@fortawesome/free-brands-svg-icons';\nimport {\n  faPlusSquare,\n  faFile,\n  faClock,\n  faImages,\n  faCheckSquare,\n  faWindowMinimize,\n  faMinusSquare,\n  faEye,\n} from '@fortawesome/free-regular-svg-icons';\nimport {\n  faCaretRight,\n  faCaretDown,\n  faPlus,\n  faEllipsisH,\n  faExpandArrowsAlt,\n  faHeading,\n  faVideo,\n  faFont,\n  faListUl,\n  faListOl,\n  faTimes,\n  faSearch,\n  faUserEdit,\n  faTags,\n  faDatabase,\n  faBold,\n  faItalic,\n  faUnderline,\n  faStrikethrough,\n  faSubscript,\n  faPalette,\n  faSyncAlt,\n  faLaptopCode,\n  faAngleDoubleLeft,\n  faAngleDoubleRight,\n  faClock as fasClock,\n  faQuoteLeft,\n  faLock,\n  faAdjust,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport 'bootstrap';\n\nimport H1 from './components/blocks/textType/H1.vue';\nimport H2 from './components/blocks/textType/H2.vue';\nimport H3 from './components/blocks/textType/H3.vue';\nimport Img from './components/blocks/mediaType/Img.vue';\nimport Page from './components/blocks/Page.vue';\nimport Video from './components/blocks/mediaType/Video.vue';\nimport P from './components/blocks/textType/P.vue';\nimport TodoItem from './components/blocks/TodoItem.vue';\nimport NumberItem from './components/blocks/listType/NumberItem.vue';\nimport BulletItem from './components/blocks/listType/BulletItem.vue';\nimport DividingLine from './components/blocks/DividingLine.vue';\nimport ToggleList from './components/blocks/ToggleList.vue';\nimport CodeEditor from './components/blocks/CodeEditor.vue';\nimport Quote from './components/blocks/textType/Quote.vue';\nimport LinkPreview from './components/blocks/LinkPreview.vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport './style/index.scss';\n\nlibrary.add(faCaretRight);\nlibrary.add(faCaretDown);\nlibrary.add(faPlusSquare);\nlibrary.add(faMinusSquare);\nlibrary.add(faFile);\nlibrary.add(faPlus);\nlibrary.add(faEllipsisH);\nlibrary.add(faExpandArrowsAlt);\nlibrary.add(faHeading);\nlibrary.add(faImages);\nlibrary.add(faVideo);\nlibrary.add(faFont);\nlibrary.add(faListUl);\nlibrary.add(faListOl);\nlibrary.add(faTimes);\nlibrary.add(faSearch);\nlibrary.add(faCheckSquare);\nlibrary.add(faWindowMinimize);\nlibrary.add(faUserEdit);\nlibrary.add(faTags);\nlibrary.add(faClock);\nlibrary.add(fasClock);\nlibrary.add(faDatabase);\nlibrary.add(faSyncAlt);\nlibrary.add(faLaptopCode);\nlibrary.add(faAngleDoubleLeft);\nlibrary.add(faAngleDoubleRight);\nlibrary.add(faLock);\nlibrary.add(faAdjust);\nlibrary.add(faEye);\n\n// 社群圖標\nlibrary.add(faGooglePlusSquare);\nlibrary.add(faFacebookSquare);\nlibrary.add(faTwitterSquare);\n\n// 文字樣式工具\nlibrary.add(faBold);\nlibrary.add(faItalic);\nlibrary.add(faUnderline);\nlibrary.add(faStrikethrough);\nlibrary.add(faSubscript);\nlibrary.add(faPalette);\nlibrary.add(faQuoteLeft);\n\ncreateApp(App).component('font-awesome-icon', FontAwesomeIcon)\n  .component('H1', H1)\n  .component('H2', H2)\n  .component('H3', H3)\n  .component('P', P)\n  .component('Img', Img)\n  .component('Page', Page)\n  .component('Video', Video)\n  .component('NumberItem', NumberItem)\n  .component('BulletItem', BulletItem)\n  .component('TodoItem', TodoItem)\n  .component('DividingLine', DividingLine)\n  .component('ToggleList', ToggleList)\n  .component('CodeEditor', CodeEditor)\n  .component('Quote', Quote)\n  .component('LinkPreview', LinkPreview)\n  .use(store)\n  .use(router)\n  .mount('#app');\n","/* eslint-disable max-classes-per-file */\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { generateRandomString } from './commonEffect';\n\nconst commonBlockEffect = () => {\n  const store = useStore();\n  const currentFocusBlock = computed(() => store.getters['blocks/currentFocusBlock']);\n\n  // 當前level屬於第幾層\n  const getLevelOfBlock = (thisBlock) => {\n    const level = { value: 0 };\n    const block = { value: thisBlock };\n\n    while (block.value.parentId !== '') {\n      block.value = computed(() => store.getters['blocks/chooseBlock'](block.value.parentId)).value;\n      level.value += 1;\n    }\n\n    return level.value;\n  };\n\n  const getBlockWidthById = (id) => {\n    const blockEl = document.querySelector(`[data-block-id=\"${id}\"]`);\n    const blockWidth = blockEl.getBoundingClientRect().width;\n    return blockWidth;\n  };\n\n  const newTextContent = () => ({ text: '', html: '' });\n\n  const newListContent = (type) => ({\n    text: '',\n    html: '',\n    indent: currentFocusBlock.value.type === type\n      ? currentFocusBlock.value.content.indent\n      : 0,\n  });\n\n  const newMediaContent = () => ({ url: '', compressionWidth: '' });\n\n  const newCheckBoxContent = () => ({ text: '', html: '', isChecked: false });\n\n  const newToggleTypeContent = () => ({ text: '', html: '', isHidden: false });\n\n  const newLinkContent = () => ({\n    title: '',\n    description: '',\n    image: '',\n    url: '',\n  });\n\n  class Block {\n    constructor(type = 'p') {\n      this.type = type;\n      this.id = generateRandomString();\n      this.parentId = '';\n      this.content = '';\n      this.className = 'style-text-color__default';\n    }\n\n    addType(type) {\n      this.type = type;\n      return this;\n    }\n\n    addContent(content) {\n      this.content = content;\n      return this;\n    }\n\n    addBlocks(blocks) {\n      this.blocks = blocks;\n      return this;\n    }\n\n    addParentId(parentId) {\n      this.parentId = parentId;\n      return this;\n    }\n\n    addClassName(className) {\n      this.className = className;\n      return this;\n    }\n\n    copyBlock(block) {\n      this.type = block.type;\n      this.id = block.id;\n      this.parentId = block.parentId;\n      this.content = { ...block.content };\n      return this;\n    }\n  }\n\n  class BlockFactory {\n    constructor(type) {\n      const actions = {\n        h1: () => new Block(type).addContent(newTextContent()),\n        h2: () => new Block(type).addContent(newTextContent()),\n        h3: () => new Block(type).addContent(newTextContent()),\n        p: () => new Block(type).addContent(newTextContent()),\n        quote: () => new Block(type).addContent(newTextContent()),\n        codeEditor: () => new Block(type).addContent(newTextContent()),\n\n        numberItem: () => new Block(type).addContent(newListContent('numberItem')),\n        bulletItem: () => new Block(type).addContent(newListContent('bulletItem')),\n\n        linkPreview: () => new Block(type).addContent(newLinkContent()),\n\n        img: () => new Block(type).addContent(newMediaContent()),\n        video: () => new Block(type).addContent(newMediaContent()),\n\n        todoItem: () => new Block(type).addContent(newCheckBoxContent()),\n\n        dividingLine: () => new Block(type),\n\n        page: () => new Block(type),\n      };\n\n      return actions[type] ? actions[type]() : null;\n    }\n  }\n\n  const getCopyBlockWithNewId = (block) => {\n    const newBlock = JSON.parse(JSON.stringify(block));\n    newBlock.id = generateRandomString();\n    return newBlock;\n  };\n\n  const getCopyBlocksWithNewId = (blocks) => {\n    const copyBlocks = JSON.parse(JSON.stringify(blocks));\n    return copyBlocks.map((block) => {\n      const newBlock = { ...block };\n      newBlock.id = generateRandomString();\n      return newBlock;\n    });\n  };\n\n  const hasBlockType = (type) => {\n    const blocktypeList = computed(() => store.state.blocktype).value;\n\n    const blockType = blocktypeList.find((block) => block.type === type);\n\n    if (blockType) return true;\n    return false;\n  };\n\n  const getTypeByHotKey = (callback) => {\n    const blocktypeList = computed(() => store.state.blocktype).value;\n\n    const blockType = blocktypeList.find((block) => callback(block.hotKey));\n\n    if (blockType) return blockType.type;\n    return null;\n  };\n\n  return {\n    Block,\n    BlockFactory,\n    newTextContent,\n    newListContent,\n    newMediaContent,\n    newCheckBoxContent,\n    newToggleTypeContent,\n    newLinkContent,\n    getLevelOfBlock,\n    getCopyBlockWithNewId,\n    getCopyBlocksWithNewId,\n    getBlockWidthById,\n    getTypeByHotKey,\n    hasBlockType,\n  };\n};\n\nexport default commonBlockEffect;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LinkPreview.vue?vue&type=style&index=0&id=64bdfe5f&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ToggleList.vue?vue&type=style&index=0&id=7128d1dc&lang=scss&scoped=true\"","import firebase from 'firebase/app';\nimport { auth } from './firebase';\n\nexport const checkAuthState = (callback) => { // 會根據狀態自動執行\n  auth.onAuthStateChanged((user) => {\n    callback(user);\n  });\n};\n\nexport const signOut = () => {\n  auth.signOut();\n  console.log('已登出');\n};\n\n// eslint-disable-next-line max-len\nexport const signUp = async (email, password) => new Promise((resolve, reject) => {\n  auth.createUserWithEmailAndPassword(email, password)\n    .then((result) => {\n      resolve(result);\n    })\n    .catch((err) => {\n      reject(err);\n    });\n});\n\nexport const signIn = async (email, password) => new Promise((resolve, reject) => {\n  auth.signInWithEmailAndPassword(email, password)\n    .then((result) => {\n      resolve(result);\n    })\n    .catch((err) => {\n      reject(err);\n    });\n});\n\n// 此方法用來判斷使用哪個社群登入並且自己輸入callback處理登入後動作\nexport const loginBySocialThen = async (social) => {\n  const brand = () => ({\n    google: () => new firebase.auth.GoogleAuthProvider(),\n    facebook: () => new firebase.auth.FacebookAuthProvider(),\n    twitter: () => new firebase.auth.TwitterAuthProvider(),\n  });\n\n  const provider = brand()[social]();\n\n  return new Promise((resolve, reject) => {\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        resolve(result);\n      })\n      .catch((err) => { // error包含code, message, email, credential\n        reject(err);\n      });\n  });\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CodeEditor.vue?vue&type=style&index=0&id=710fe8cc&lang=scss&scoped=true\"","import { computed, nextTick } from 'vue';\nimport { useStore } from 'vuex';\nimport commonBlockEffect from '../components/commonBlockEffect';\nimport { stringMixer, generateRandomString } from '../components/commonEffect';\n\nconst commonUpdateEffect = () => {\n  const store = useStore();\n  const currentPage = computed(() => store.getters['pages/currentPage']);\n  const currentFocusBlock = computed(() => store.getters['blocks/currentFocusBlock']);\n  const currentBlocksIds = computed(() => store.getters['blocks/currentBlocksIds']);\n  const currentFocusBlockId = computed(() => store.state.blocks.currentFocusBlockId);\n  const focusBlockIndex = computed(() => store.getters['blocks/getIndexByBlockId'](currentFocusBlock.value.id));\n  const selectedBlocks = computed(() => store.getters['blocks/selectedBlocks']);\n  const selectedBlocksIds = computed(() => store.state.blocks.selectedBlocksIds);\n  const clipboardBlocks = computed(() => store.state.blocks.clipboardBlocks);\n  const {\n    BlockFactory,\n    getCopyBlockWithNewId,\n    getCopyBlocksWithNewId,\n    getTypeByHotKey,\n  } = commonBlockEffect();\n\n  const editPageData = (key, value) => {\n    store.commit('pages/editPageData', {\n      key,\n      value,\n    });\n  };\n\n  const editBlockData = (id, value, key) => {\n    if (currentPage.value === '') {\n      console.log('請先選擇頁面');\n      return;\n    }\n    store.commit('blocks/editBlockData', {\n      id,\n      value,\n      key,\n    });\n  };\n\n  const setFocusBlock = (id = '') => {\n    store.commit('blocks/setFocusBlockById', id);\n  };\n\n  const setClipboardBlocks = (blocks) => {\n    store.commit('blocks/setClipboardBlocks', blocks);\n  };\n\n  const setSelectedBlocksInClipboardBlocks = () => {\n    store.commit('blocks/setClipboardBlocks', getCopyBlocksWithNewId(selectedBlocks.value));\n  };\n\n  const checkKeydownInPageData = (page, e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      if (page.blocks.length === 0) {\n        store.dispatch('blocks/addBlock', {\n          type: 'p',\n        });\n        return;\n      }\n      setFocusBlock(page.blocks[0]);\n    }\n  };\n\n  const deleteBlockAndDependByPressBackspace = (block) => {\n    const deleteBlocksDepend = () => {\n      if (!block.blocks) return;\n      if (block.blocks.length === 0) return;\n      const childrenCurrentBlocks = computed(() => store.getters['blocks/childrenCurrentBlocks'](block.id));\n      childrenCurrentBlocks.value.forEach((childBlock) => {\n        store.commit('blocks/editBlockData', {\n          id: childBlock.id,\n          key: 'parentId',\n          value: '',\n        });\n      });\n    };\n\n    const deleteParentDepend = () => {\n      if (block.parentId === '') return;\n      const parentBlock = computed(() => store.getters['blocks/chooseBlock'](block.parentId));\n      store.commit('blocks/deleteIdToBlocksOfBlock', {\n        block: parentBlock.value,\n        blockId: block.id,\n      });\n    };\n\n    const deletePageDepend = () => {\n      const page = computed(() => store.getters['pages/choosePage'](block.content));\n      store.dispatch('pages/deletePage', page.value);\n    };\n\n    if (block.type === 'page') {\n      deletePageDepend();\n      return;\n    }\n\n    deleteBlocksDepend();\n    deleteParentDepend();\n\n    const lastBlock = computed(() => store.getters['blocks/getPrevBlockByid'](block.id));\n    store.commit('blocks/setFocusBlockById', lastBlock.value?.id);\n    store.dispatch('blocks/deleteBlock', { block });\n  };\n\n  const deleteInput = (e, block) => {\n    if (e.target.innerText === '' && e.keyCode === 8) {\n      deleteBlockAndDependByPressBackspace(block);\n    }\n  };\n\n  const checkBlockThenAddByPressEnter = (currentBlock) => {\n    const hasParentIdAction = (newBlock) => {\n      if (currentBlock.parentId === '') return;\n      store.commit('blocks/editBlockData', {\n        id: newBlock.id,\n        value: currentBlock.parentId,\n        key: 'parentId',\n      });\n    };\n\n    const enterActions = {\n      h1: () => new BlockFactory('p'),\n      h2: () => new BlockFactory('p'),\n      h3: () => new BlockFactory('p'),\n      p: () => new BlockFactory('p'),\n      quote: () => new BlockFactory('p'),\n\n      numberItem: () => new BlockFactory('numberItem'),\n      bulletItem: () => new BlockFactory('bulletItem'),\n\n      todoItem: () => new BlockFactory('todoItem'),\n\n      // toggleList: () => addBlockByType('toggleList'),\n    };\n\n    const newBlock = enterActions[currentBlock.type]();\n    store.dispatch('blocks/addBlockAndSetFocusBlockId', {\n      block: newBlock,\n      index: focusBlockIndex.value + 1,\n    });\n\n    hasParentIdAction(newBlock);\n  };\n\n  const duplicateBlock = (block) => {\n    const newBlock = getCopyBlockWithNewId(block);\n    store.commit('blocks/addBlock', newBlock);\n\n    store.commit('pages/addIdToBlocksOfPage', {\n      id: newBlock.id,\n      index: focusBlockIndex.value + 1,\n    });\n\n    store.commit('blocks/setSelectedBlocksIds', [newBlock.id]);\n    store.commit('blocks/setFocusBlockById', '');\n  };\n\n  const duplicatePage = (copyPage, randomStr, level = 0) => {\n    const addCopyPage = () => {\n      const newPage = JSON.parse(JSON.stringify(copyPage));\n\n      newPage.id = randomStr(newPage.id);\n      newPage.createdTime = new Date().getTime().toString();\n      newPage.editTime = new Date().getTime().toString();\n      newPage.blocks = newPage.blocks.map((blockId) => randomStr(blockId));\n      newPage.parentId = level === 0 ? newPage.parentId : randomStr(newPage.parentId);\n\n      store.commit('pages/addPage', newPage);\n    };\n\n    addCopyPage();\n\n    copyPage.blocks.forEach((blockId) => {\n      const oldBlock = computed(() => store.getters['blocks/chooseBlock'](blockId)).value;\n      const newBlock = JSON.parse(JSON.stringify(oldBlock));\n      newBlock.id = randomStr(newBlock.id);\n\n      if (oldBlock.type === 'page') {\n        newBlock.content = randomStr(newBlock.content);\n\n        const innerPageId = oldBlock.content;\n        const innerPage = computed(() => store.getters['pages/choosePage'](innerPageId));\n        duplicatePage(innerPage.value, randomStr, level + 1);\n      }\n\n      store.commit('blocks/addBlock', newBlock);\n    });\n  };\n\n  const replaceBlock = (block, type) => {\n    const newBlock = new BlockFactory(type);\n\n    if (type === 'page') {\n      const innerPageId = generateRandomString();\n\n      store.commit('pages/addPage', {\n        id: innerPageId,\n        name: 'untitle',\n        blocks: [],\n        parentId: currentPage.value.id,\n        createdTime: new Date().getTime().toString(),\n        editTime: new Date().getTime().toString(),\n        tags: [],\n        cover: '',\n      });\n\n      newBlock.content = innerPageId;\n    }\n\n    store.commit('blocks/addBlock', newBlock);\n\n    const blockIdsOfPage = [...currentPage.value.blocks];\n    const index = blockIdsOfPage.indexOf(block.id);\n    blockIdsOfPage[index] = newBlock.id;\n    store.commit('pages/editPageData', {\n      key: 'blocks',\n      value: blockIdsOfPage,\n    });\n\n    store.commit('blocks/deleteBlock', block);\n\n    nextTick(() => {\n      const el = document.querySelector(`[data-block-id=\"${newBlock.id}\"]`);\n      if (el && el.querySelector('[contenteditable]')) {\n        el.querySelector('[contenteditable]').focus();\n      }\n    });\n  };\n\n  const checkKeydownInBlockContent = (block, e) => {\n    if (currentFocusBlockId.value !== block.id) return;\n\n    if (currentFocusBlock.value.content.text === '' && e.key === 'Backspace') {\n      e.preventDefault();\n      deleteBlockAndDependByPressBackspace(block);\n    }\n\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n\n      const type = getTypeByHotKey((key) => key === e.target.innerText.slice(1));\n      if (type) {\n        replaceBlock(block, type);\n        return;\n      }\n\n      checkBlockThenAddByPressEnter(block);\n    }\n\n    if (e.key === 'c' && e.ctrlKey) {\n      setClipboardBlocks([]);\n    }\n\n    if (e.key === 'd' && e.ctrlKey) {\n      e.preventDefault();\n      duplicateBlock(block);\n      document.activeElement.blur();\n    }\n  };\n\n  const goCurrentPage = (id) => {\n    store.commit('pages/setCurrentPageId', id);\n  };\n\n  const setNewBlocksIdsInPage = (ids) => {\n    store.commit('pages/editPageData', {\n      key: 'blocks',\n      value: ids,\n    });\n  };\n\n  const addMultiBlock = (addedBlocks, spliceFunctionArr) => {\n    const addedBlocksIds = [];\n    addedBlocks.forEach((block) => {\n      store.commit('blocks/addBlock', block);\n      addedBlocksIds.push(block.id);\n    });\n\n    const newBlocksIds = [...currentBlocksIds.value];\n    Array.prototype.splice.apply(newBlocksIds, spliceFunctionArr(addedBlocksIds));\n\n    setNewBlocksIdsInPage(newBlocksIds);\n  };\n\n  const genratePageAndInnerByCopyingBlock = (block) => {\n    const pageId = block.content;\n    const page = computed(() => store.getters['pages/choosePage'](pageId));\n\n    const randomStr = stringMixer();\n    store.commit('blocks/editBlockData', {\n      id: block.id,\n      value: `${randomStr(page.value.id)}`,\n      key: 'content',\n    });\n\n    duplicatePage(page.value, randomStr);\n  };\n\n  const duplicateBlocksFromSelectedBlocks = () => {\n    const newBlocks = getCopyBlocksWithNewId(selectedBlocks.value);\n    addMultiBlock(newBlocks,\n      (addedBlocksIds) => {\n        const lastBlockId = selectedBlocksIds.value[selectedBlocksIds.value.length - 1];\n        const index = computed(() => store.getters['blocks/getIndexByBlockId'](lastBlockId));\n        return [index.value + 1, 0, ...addedBlocksIds];\n      });\n\n    const newBlocksIds = newBlocks.map((block) => block.id);\n    store.commit('blocks/setSelectedBlocksIds', newBlocksIds);\n\n    // 處理block類型是page的情況\n    const pageTypeBlocks = newBlocks.filter((block) => block.type === 'page');\n    if (pageTypeBlocks.length) {\n      pageTypeBlocks.forEach((block) => {\n        genratePageAndInnerByCopyingBlock(block);\n      });\n    }\n  };\n\n  const pasteBlocksAction = async (e) => {\n    const getClipboardText = async () => new Promise((resolve) => {\n      navigator.clipboard.readText('text')\n        .then((text) => {\n          resolve(text);\n        });\n    });\n\n    const clipboardText = await getClipboardText();\n    if (clipboardText !== '') {\n      setClipboardBlocks([]);\n      return;\n    }\n\n    if (!clipboardBlocks.value) return;\n    if (!clipboardBlocks.value.length) return;\n\n    e.preventDefault();\n\n    const newBlocks = getCopyBlocksWithNewId(clipboardBlocks.value);\n\n    if (currentFocusBlock.value) {\n      addMultiBlock(newBlocks,\n        (addedBlocksIds) => [focusBlockIndex.value + 1, 0, ...addedBlocksIds]);\n    } else {\n      console.log('11111111111111111');\n      addMultiBlock(newBlocks,\n        (addedBlocksIds) => {\n          if (selectedBlocksIds.value.length < 1) {\n            return [-1, 0, ...addedBlocksIds];\n          }\n          const lastBlockId = selectedBlocksIds.value[selectedBlocksIds.value.length - 1];\n          const index = computed(() => store.getters['blocks/getIndexByBlockId'](lastBlockId));\n          return [index.value + 1, 0, ...addedBlocksIds];\n        });\n    }\n\n    const newBlocksIds = newBlocks.map((block) => block.id);\n    store.commit('blocks/setSelectedBlocksIds', newBlocksIds);\n\n    // 處理block類型是page的情況\n    const pageTypeBlocks = newBlocks.filter((block) => block.type === 'page');\n    if (pageTypeBlocks.length) {\n      pageTypeBlocks.forEach((block) => {\n        genratePageAndInnerByCopyingBlock(block);\n      });\n    }\n  };\n\n  const deleteSelectedBlocks = () => {\n    selectedBlocksIds.value.forEach((blockId) => {\n      const block = computed(() => store.getters['blocks/chooseBlock'](blockId));\n      deleteBlockAndDependByPressBackspace(block.value);\n    });\n  };\n\n  return {\n    editBlockData,\n    editPageData,\n    checkKeydownInBlockContent,\n    checkKeydownInPageData,\n    deleteBlockAndDependByPressBackspace,\n    deleteInput,\n    setFocusBlock,\n    goCurrentPage,\n    setClipboardBlocks,\n    setSelectedBlocksInClipboardBlocks,\n    pasteBlocksAction,\n    deleteSelectedBlocks,\n    duplicateBlock,\n    duplicateBlocksFromSelectedBlocks,\n  };\n};\n\nexport default commonUpdateEffect;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Quote.vue?vue&type=style&index=0&id=4df6ac71&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Page.vue?vue&type=style&index=0&id=75ce77a2&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Img.vue?vue&type=style&index=0&id=470ff68e&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./H1.vue?vue&type=style&index=0&id=74d09eaa&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./H3.vue?vue&type=style&index=0&id=29208c9e&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Video.vue?vue&type=style&index=0&id=e649c350&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DividingLine.vue?vue&type=style&index=0&id=2a45146e&lang=scss&scoped=true\"","<template>\n  <div type=\"text\" contenteditable=\"plaintext-only\"\n    :class=\"className\"\n    :placeholder=\"placeholder\"\n    :id=\"id\"\n    :value=\"value || ''\"\n    @input=\"$emit('input', $event)\"\n    @keydown=\"$emit('keydown', $event)\"\n    @keyup=\"$emit('keyup', $event)\"\n    @focus=\"$emit('focus', $event)\"\n    @blur=\"$emit('blur', $event)\"\n    @paste=\"$emit('paste', $event)\"\n    v-once>{{ value || '' }}</div>\n</template>\n\n<script>\nexport default {\n  name: 'ContentEditable',\n  emits: [\n    'input',\n    'keydown',\n    'keyup',\n    'focus',\n    'blur',\n    'paste',\n  ],\n  props: [\n    'placeholder',\n    'className',\n    'id',\n    'value',\n  ],\n};\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","import { render } from \"./ContentEditable.vue?vue&type=template&id=3270ffe2\"\nimport script from \"./ContentEditable.vue?vue&type=script&lang=js\"\nexport * from \"./ContentEditable.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { reactive } from 'vue';\n\nconst commonDomEffect = () => {\n  const getElementsByIdsInArr = (arr) => {\n    let selectors = '';\n    arr.forEach((id, key, array) => {\n      selectors += `#${id}${key === array.length - 1 ? '' : ', '}`;\n    });\n    return document.querySelectorAll(selectors);\n  };\n\n  const getElementBySelector = (selector) => {\n    let element = '';\n    if (selector.charAt(0) === '.') {\n      // eslint-disable-next-line prefer-destructuring\n      element = document.getElementsByClassName(selector.slice(1))[0];\n    }\n    if (selector.charAt(0) === '#') {\n      element = document.getElementById(selector.slice(1));\n    }\n    return element;\n  };\n\n  const getDataURLByClipBoardData = async (ev) => new Promise((resolve, reject) => {\n    const { items } = ev.clipboardData || ev.originalEvent.clipboardData;\n    // find pasted image among pasted items\n    let blob = null;\n    for (let i = 0; i < items.length; i += 1) {\n      if (items[i].type.indexOf('image') === 0) {\n        blob = items[i].getAsFile();\n      }\n    }\n\n    if (blob !== null) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        resolve(e.target.result);\n      };\n      reader.onerror = (err) => {\n        reject(err);\n      };\n      reader.readAsDataURL(blob);\n    }\n  });\n\n  const getBlobByClipBoardData = async (ev) => new Promise((resolve, reject) => {\n    const { items } = ev.clipboardData || ev.originalEvent.clipboardData;\n    // find pasted image among pasted items\n    let blob = null;\n    for (let i = 0; i < items.length; i += 1) {\n      if (items[i].type.indexOf('image') === 0) {\n        blob = items[i].getAsFile();\n      }\n    }\n\n    if (blob !== null) {\n      resolve(blob);\n    }\n    reject();\n  });\n\n  const getMouseOffsetByClickElAndMove = () => {\n    let isTrigger = false;\n    const startPoint = {\n      x: '',\n      y: '',\n    };\n\n    const setStartPoint = (x, y) => {\n      startPoint.x = x;\n      startPoint.y = y;\n    };\n\n    const mouseOffset = reactive({\n      x: '',\n      y: '',\n    });\n\n    const setOffset = (x, y) => {\n      mouseOffset.x = x;\n      mouseOffset.y = y;\n    };\n\n    const mouseDown = (e, callback) => {\n      e.preventDefault();\n      setStartPoint(e.clientX, e.clientY);\n      setOffset(0, 0);\n      isTrigger = true;\n      callback(mouseOffset);\n    };\n\n    const mouseMove = (e, callback) => {\n      if (isTrigger === true) {\n        e.preventDefault();\n        setOffset(e.clientX - startPoint.x, e.clientY - startPoint.y);\n        callback(mouseOffset);\n      }\n    };\n\n    const mouseUp = (e, callback) => {\n      e.preventDefault();\n      isTrigger = false;\n      callback(mouseOffset);\n    };\n\n    return {\n      mouseDown,\n      mouseMove,\n      mouseUp,\n      mouseOffset,\n    };\n  };\n\n  const isMouseInsideElement = (el, e) => {\n    const x = e.clientX;\n    const y = e.clientY;\n    const boundingRect = el.getBoundingClientRect();\n    if (x < boundingRect.left || x > boundingRect.left + boundingRect.width\n      || y < boundingRect.top || y > boundingRect.top + boundingRect.height) return false;\n    return true;\n  };\n\n  const isMouseUnderTheElement = (el, e) => {\n    const x = e.clientX;\n    const y = e.clientY;\n    const boundingRect = el.getBoundingClientRect();\n    if (x > boundingRect.left && x < boundingRect.left + boundingRect.width\n      && y > boundingRect.top + boundingRect.height) return true;\n    return false;\n  };\n\n  const dragDropEffect = () => {\n    const domObject = () => {\n      const data = {\n        dom: '',\n        value: '',\n      };\n\n      return {\n        setDom: (dom) => {\n          if (!dom) return;\n          data.dom = dom;\n        },\n\n        setValue: (value) => {\n          data.value = value;\n        },\n\n        getDom: () => data.dom,\n\n        getValue: () => data.value,\n\n        reset: () => {\n          data.dom = '';\n          data.value = '';\n        },\n      };\n    };\n    return { domObject };\n  };\n\n  return {\n    getElementsByIdsInArr,\n    getElementBySelector,\n    getDataURLByClipBoardData,\n    getBlobByClipBoardData,\n    dragDropEffect,\n    getMouseOffsetByClickElAndMove,\n    isMouseInsideElement,\n    isMouseUnderTheElement,\n  };\n};\n\nexport default commonDomEffect;\n"],"sourceRoot":""}