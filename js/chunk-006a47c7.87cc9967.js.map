{"version":3,"sources":["webpack:///./src/views/verification/SignIn.vue","webpack:///./src/views/verification/SignIn.vue?c4ea","webpack:///./src/views/verification/userVerifyEffect.js","webpack:///./src/views/verification/SignIn.vue?eb56"],"names":["class","style","type","errorMessage","email","placeholder","autocomplete","userInput","spellcheck","password","checkAndSignIn","socialLogin","icon","size","to","name","components","setup","userVerifyEffect","watchErrorMessage","code","render","__scopeId","reactive","social","loginBySocialThen","console","log","watchEffect","length"],"mappings":"+OACQA,MAAM,+D,GACJA,MAAM,e,EACV,eAAkC,OAA7BA,MAAM,gBAAe,MAAE,G,EAC5B,eAA+C,OAA1CA,MAAM,mBAAkB,gBAAY,G,GAIlCA,MAAM,iB,GAMNA,MAAM,iB,EAQb,eAAwD,OAAnDA,MAAM,QAAQC,MAAA,mBAAwB,WAAO,G,GAC7CD,MAAM,sC,GAIJA,MAAM,aAAaE,KAAK,U,GAIxBF,MAAM,aAAaE,KAAK,U,GAM1BF,MAAM,iC,GACJA,MAAM,oB,EACT,eAAI,mB,EAEF,eAAmE,OAA9DE,KAAK,SAASF,MAAM,yBAAwB,gBAAY,G,EAE/D,eAAuD,OAAlDE,KAAK,SAASF,MAAM,oBAAmB,SAAK,G,EACjD,eAAI,mB,kJA3CZ,eA+CO,OA/CP,EA+CO,CA9CL,eA6CO,OA7CP,EA6CO,CA5CL,EACA,EACA,eAIM,OAJAA,MAAK,kCAA4D,KAAlB,EAAAG,aAAaC,Q,gBAChE,eACiD,SAD1CF,KAAK,OAAOG,YAAY,iBAAiBC,aAAA,G,qDACnC,EAAAC,UAAUH,MAAK,IAAEI,WAAW,S,mBAA5B,EAAAD,UAAUH,SACvB,eAAyD,MAAzD,EAAyD,eAA3B,EAAAD,aAAaC,OAAK,I,GAGlD,eAIM,OAJAJ,MAAK,kCAA+D,KAArB,EAAAG,aAAaM,W,gBAChE,eACoD,SAD7CP,KAAK,WAAWG,YAAY,WAAWC,aAAA,G,qDACjC,EAAAC,UAAUE,SAAQ,IAAED,WAAW,S,mBAA/B,EAAAD,UAAUE,YACvB,eAA4D,MAA5D,EAA4D,eAA9B,EAAAN,aAAaM,UAAQ,I,GAGrD,eAGc,UAHNT,MAAM,oCACRE,KAAK,SACJ,QAAK,8BAAE,EAAAQ,gBAAA,EAAAA,eAAA,sBACX,MAEH,EACA,eAYM,MAZN,EAYM,CAXJ,eAEM,OAFDV,MAAM,aAAaE,KAAK,SAAU,QAAK,+BAAE,EAAAS,YAAW,a,CACvD,eAAoE,GAAhDC,KAAM,CAAC,MAAO,sBAAuBC,KAAK,SAEhE,eAGM,MAHN,EAGM,CAFJ,eACiB,GADGD,KAAM,CAAC,MAAO,mBAC5BC,KAAK,SAEb,eAGM,MAHN,EAGM,CAFJ,eACiB,GADGD,KAAM,CAAC,MAAO,kBAC5BC,KAAK,WAIf,eASM,MATN,EASM,CARJ,eAOM,MAPN,EAOM,CANJ,EACA,eAEc,GAFAC,GAAI,aAAW,C,WAC3B,iBAAmE,CAAnE,M,MAEF,EACA,a,gDAWK,GACbC,KAAM,SACNC,WAAY,GAEZC,MAJa,WAKX,MAKI,OAAAC,EAAA,QAJFX,EADF,EACEA,UACAI,EAFF,EAEEA,YACAR,EAHF,EAGEA,aACAgB,EAJF,EAIEA,kBAGFA,IAEA,IAAMT,EAAa,yDAAI,uHAEb,eAAOH,EAAUH,MAAOG,EAAUE,UAFrB,0DAIA,uBAAf,KAAMW,OACRjB,EAAaC,MAAQ,cAEJ,wBAAf,KAAMgB,OACRjB,EAAaC,MAAQ,gBAEJ,wBAAf,KAAMgB,OACRjB,EAAaM,SAAW,UAXP,yDAAJ,qDAgBnB,MAAO,CACLF,YACAI,cACAD,iBACAP,kB,UCpFN,EAAOkB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,gGCLTJ,EAAmB,WACvB,IAAMX,EAAYgB,eAAS,CACzBR,KAAM,GACNX,MAAO,GACPK,SAAU,KAGNN,EAAeoB,eAAS,CAC5BR,KAAM,GACNX,MAAO,GACPK,SAAU,KAGNE,EAAW,yDAAG,WAAOa,GAAP,0GAEVC,eAAkBD,GAFR,yDAIhBE,QAAQC,IAAR,MACmB,+BAAf,KAAMP,MACRM,QAAQC,IAAR,UAAeH,EAAf,SANc,wDAAH,sDAWXL,EAAoB,kBAAMS,gBAAY,WACX,IAA3BrB,EAAUH,MAAMyB,QAAuC,KAAvB1B,EAAaC,QAC/CD,EAAaC,MAAQ,IAEW,IAA9BG,EAAUE,SAASoB,QAA0C,KAA1B1B,EAAaM,WAClDN,EAAaM,SAAW,IAEI,IAA1BF,EAAUQ,KAAKc,QAAsC,KAAtB1B,EAAaY,OAC9CZ,EAAaY,KAAO,QAIxB,MAAO,CACLR,YACAI,cACAR,eACAgB,sBAIWD,U,kCC/Cf","file":"js/chunk-006a47c7.87cc9967.js","sourcesContent":["<template>\n  <main class=\"fullscreen d-flex justify-content-center align-items-center\">\n    <form class=\"text-center\">\n      <div class=\"verify-title\">登入</div>\n      <div class=\"verify-subtitle\">請輸入email以及密碼</div>\n      <div :class=\"{ 'verify-input': true, 'error-border': errorMessage.email !== '' }\">\n        <input type=\"text\" placeholder=\"user@gmail.com\" autocomplete\n            v-model=\"userInput.email\" spellcheck=\"false\">\n        <div class=\"error-message\">{{ errorMessage.email }}</div>\n      </div>\n\n      <div :class=\"{ 'verify-input': true, 'error-border': errorMessage.password !== '' }\">\n        <input type=\"password\" placeholder=\"password\" autocomplete\n            v-model=\"userInput.password\" spellcheck=\"false\">\n        <div class=\"error-message\">{{ errorMessage.password }}</div>\n      </div>\n\n      <button class=\"w-100 btn btn-lg btn-primary mb-4\"\n            type=\"button\"\n            @click=\"checkAndSignIn\"\n        >登入</button>\n\n      <div class=\" mb-2\" style=\"color: #5f5f5f;\">從其他地方登入</div>\n      <div class=\"d-flex justify-content-center mb-4\">\n        <div class=\"brand me-2\" type=\"button\" @click=\"socialLogin('google')\">\n          <font-awesome-icon :icon=\"['fab', 'google-plus-square']\" size=\"2x\"/>\n        </div>\n        <div class=\"brand me-2\" type=\"button\">\n          <font-awesome-icon :icon=\"['fab', 'facebook-square']\"\n                size=\"2x\"/>\n        </div>\n        <div class=\"brand me-2\" type=\"button\">\n          <font-awesome-icon :icon=\"['fab', 'twitter-square']\"\n                size=\"2x\"/>\n        </div>\n      </div>\n\n      <div class=\"d-flex justify-content-center\">\n        <div class=\"info-bottom w-50\">\n          <hr>\n          <router-link :to=\"'/register'\">\n            <div type=\"button\" class=\"info-bottom-text mb-1\">還沒有帳號 ? 創建帳號</div>\n          </router-link>\n          <div type=\"button\" class=\"info-bottom-text\">忘記密碼?</div>\n          <hr>\n        </div>\n      </div>\n    </form>\n  </main>\n</template>\n\n<script>\nimport userVerifyEffect from './userVerifyEffect';\nimport { signIn } from '../../store/firebaseAuth';\n\nexport default {\n  name: 'SignIn',\n  components: {\n  },\n  setup() {\n    const {\n      userInput,\n      socialLogin,\n      errorMessage,\n      watchErrorMessage,\n    } = userVerifyEffect();\n\n    watchErrorMessage();\n\n    const checkAndSignIn = async () => {\n      try {\n        await signIn(userInput.email, userInput.password);\n      } catch (error) {\n        if (error.code === 'auth/invalid-email') {\n          errorMessage.email = '錯誤的email格式';\n        }\n        if (error.code === 'auth/user-not-found') {\n          errorMessage.email = '沒有使用者資料，請先註冊';\n        }\n        if (error.code === 'auth/wrong-password') {\n          errorMessage.password = '密碼輸入錯誤';\n        }\n      }\n    };\n\n    return {\n      userInput,\n      socialLogin,\n      checkAndSignIn,\n      errorMessage,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/component/_verification.scss';\n\n</style>\n","import { render } from \"./SignIn.vue?vue&type=template&id=c2a6352a&scoped=true\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=c2a6352a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c2a6352a\"\n\nexport default script","import { reactive, watchEffect } from 'vue';\nimport { loginBySocialThen } from '../../store/firebaseAuth';\n\nconst userVerifyEffect = () => {\n  const userInput = reactive({\n    name: '',\n    email: '',\n    password: '',\n  });\n\n  const errorMessage = reactive({\n    name: '',\n    email: '',\n    password: '',\n  });\n\n  const socialLogin = async (social) => {\n    try {\n      await loginBySocialThen(social);\n    } catch (error) {\n      console.log(error);\n      if (error.code === 'auth/operation-not-allowed') {\n        console.log(`${social}登入失敗`);\n      }\n    }\n  };\n\n  const watchErrorMessage = () => watchEffect(() => {\n    if (userInput.email.length === 1 && errorMessage.email !== '') {\n      errorMessage.email = '';\n    }\n    if (userInput.password.length === 1 && errorMessage.password !== '') {\n      errorMessage.password = '';\n    }\n    if (userInput.name.length === 1 && errorMessage.name !== '') {\n      errorMessage.name = '';\n    }\n  });\n\n  return {\n    userInput,\n    socialLogin,\n    errorMessage,\n    watchErrorMessage,\n  };\n};\n\nexport default userVerifyEffect;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SignIn.vue?vue&type=style&index=0&id=c2a6352a&lang=scss&scoped=true\""],"sourceRoot":""}